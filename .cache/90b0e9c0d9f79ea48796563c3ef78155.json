{"dependencies":[{"name":"E:\\dev\\Snake\\tsconfig.json","includedInParent":true,"mtime":1518205817291}],"generated":{"js":"\"use strict\";var e,t;function n(e){var n=e.gridSize,r=n[0],s=n[1],a=o(r,s);return{initArgs:e,state:t.InProgress,gridSize:e.gridSize,grid:a,snake:{direction:e.dir,directionQueue:[e.dir],nextDirection:e.dir,nextNextDirection:void 0,length:e.snakeLength,position:e.position},noms:i(a,r,s)}}function r(e){for(var n=e.snake,r=e.grid,o=e.gridSize,s=e.initArgs,a=o[0],c=o[1],d=0;d<a;d++)for(var g=0;g<c;g++)r[d][g]=0;e.noms=i(r,a,c),e.state=t.InProgress,n.direction=s.dir,n.nextDirection=s.dir,n.nextNextDirection=void 0,n.length=s.snakeLength,n.position=s.position}function i(e,t,n){var r=Math.floor(Math.random()*t),o=Math.floor(Math.random()*n);return e[r][o]>0?i(e,t,n):[r,o]}function o(e,t){for(var n=new Array(e),r=0;r<e;r++){for(var i=new Array(t),o=0;o<t;o++)i[o]=0;n[r]=i}return n}function s(e){var n=a(e,e.snake.nextDirection);if(c(e,n))e.state=t.Lost;else{var r=n[0],o=n[1],s=e.grid,d=e.snake,g=e.noms,u=e.gridSize,x=u[0],f=u[1];if(d.position=[r,o],r===g[0]&&o===g[1])d.length++,s[r][o]=d.length,e.noms=i(s,x,f);else{for(var p=0;p<x;p++)for(var D=0;D<f;D++)s[p][D]>0&&s[p][D]--;s[r][o]=d.length}d.direction=d.nextDirection,d.nextDirection=void 0!==d.nextNextDirection?d.nextNextDirection:d.nextDirection,d.nextNextDirection=void 0}}function a(t,n){t.grid;var r=t.snake.position,i=r[0],o=r[1];switch(n){case e.Left:return[i-1,o];case e.Up:return[i,o-1];case e.Right:return[i+1,o];case e.Down:return[i,o+1]}}function c(e,t){var n=e.grid,r=e.gridSize,i=r[0],o=r[1],s=t[0],a=t[1];return s>=i||s<0||a>=o||a<0||n[s][a]>1}function d(e,t){var n=e.snake;n.direction===n.nextDirection?g(n.direction,t)&&(n.nextDirection=t):g(n.nextDirection,t)&&(n.nextNextDirection=t)}function g(t,n){switch(t){case e.Left:return n!==e.Right;case e.Right:return n!==e.Left;case e.Up:return n!==e.Down;case e.Down:return n!==e.Up}}function u(e){var t=e.snake,n=e.initArgs;return t.length-n.snakeLength}Object.defineProperty(exports,\"__esModule\",{value:!0}),function(e){e[e.Left=0]=\"Left\",e[e.Up=1]=\"Up\",e[e.Right=2]=\"Right\",e[e.Down=3]=\"Down\"}(e=exports.Dir||(exports.Dir={})),function(e){e[e.InProgress=0]=\"InProgress\",e[e.InProgressAndPaused=1]=\"InProgressAndPaused\",e[e.Lost=2]=\"Lost\",e[e.Won=3]=\"Won\"}(t=exports.GameState||(exports.GameState={})),exports.init=n,exports.reinit=r,exports.update=s,exports.setDirection=d,exports.getScore=u;"},"hash":"a229e363ac07a2df64d99fd7d0cd0487","cacheData":{"env":{}}}