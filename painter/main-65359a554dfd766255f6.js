!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=78)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return u});var r=n(15);function o(e,t){const n=Object(r.d)(t,e);return(e,t,o=null)=>Object(r.c)(n,t,o,e)}const i=e=>o(e,2);function u(e,t){const n=Object(r.d)(16644,{c:e,e:t});return e=>Object(r.e)(n,e)}},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"i",function(){return y}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return _}),n.d(t,"f",function(){return T});var r=n(38),o=n(39),i=n(65),u=n(1);const s={v:"",u:l};function a(e,t){Object(r.a)(`value="${Object(o.a)(t)}"`)}function c(e,t){Object(r.b)(Object(o.b)(t))}function l(e,t,n,r){void 0===n?""!==r&&(e.value=r):void 0!==r&&e.value!==r&&(e.value=r)}const f=t=>"ssr"===e.env.IVI_TARGET?""===t?i.a:{v:t,s:a}:""===t?s:{v:t,u:l},h="ssr"===e.env.IVI_TARGET?e=>""===e?i.a:{v:e,s:c}:f,v=Object(u.c)("button"),d=Object(u.c)("canvas"),p=Object(u.c)("div"),b=Object(u.c)("li"),g=Object(u.c)("p"),y=Object(u.c)("span"),m=Object(u.c)("ul"),_=Object(u.b)("textarea",2050),T=Object(u.b)("input",4098)}).call(this,n(35))},function(e,t,n){"use strict";var r,o=n(0),i=n.n(o),u=n(6),s=n.n(u),a=n(5),c=n.n(a);!function(e){(r||(r={})).create=function(e){var t=e.effectsHandler,n=e.initialState,r=e.initialEphemeral,o=e.forceRender,i=e.update,u=n,s=r;return{send:function(e){var n=i(u,s,e),r=c()(n,3),a=r[0],l=r[1],f=r[2];u!==a&&(o(),u=a),t.value(f),s=l},getState:function(){return u}}}}();var l,f,h,v=n(25),d=n.n(v);!function(e){function t(e){return{isOk:!0,value:e}}function n(){return{isOk:!1,value:null}}e.ok=t,e.err=n,e.bool=function(e){return"boolean"==typeof e?t(e):{isOk:!1,value:null}},e.int=function(e){return"number"==typeof e&&Number.isInteger(e)?t(e):{isOk:!1,value:null}},e.number=function(e){return"number"==typeof e?t(e):{isOk:!1,value:null}},e.string=function(e){return"string"==typeof e?t(e):{isOk:!1,value:null}},e.nullable=function(e){return function(n){return function(e,n){return null===n?t(null):e(n)}(e,n)}},e.maybe=function(e){return function(n){return function(e,n){return void 0===n?t(void 0):e(n)}(e,n)}},e.array=function(e){return function(n){return function(e,n){if("object"!==d()(n)||!Array.isArray(n))return{isOk:!1,value:null};for(var r=[],o=0;o<n.length;o++){var i=e(n[o]);if(!i.isOk)return{isOk:!1,value:null};r.push(i.value)}return t(r)}(e,n)}},e.object=function(e){return function(n){return function(e,n){if("object"!==d()(n))return{isOk:!1,value:null};var r={};for(var o in e)if(e.hasOwnProperty(o)){var i=e[o](n[o]);if(!i.isOk)return{isOk:!1,value:null};r[o]=i.value}return t(r)}(e,n)}},e.dictionary=function(e){return function(n){return function(e,n){if("object"!==d()(n))return{isOk:!1,value:null};for(var r=n,o=Object.keys(r),i={},u=0;u<o.length;u++){var s=o[u],a=e(r[s]);if(!a.isOk)return{isOk:!1,value:null};i[s]=a.value}return t(i)}(e,n)}},e.tuple2=function(e,n){return function(r){return function(e,n,r){if("object"!==d()(r)||!Array.isArray(r)||r.length<2)return{isOk:!1,value:null};var o=e(r[0]);if(!o.isOk)return{isOk:!1,value:null};var i=n(r[1]);return i.isOk?t([o.value,i.value]):{isOk:!1,value:null}}(e,n,r)}},e.tuple3=function(e,n,r){return function(o){return function(e,n,r,o){if("object"!==d()(o)||!Array.isArray(o)||o.length<3)return{isOk:!1,value:null};var i=e(o[0]);if(!i.isOk)return{isOk:!1,value:null};var u=n(o[1]);if(!u.isOk)return{isOk:!1,value:null};var s=r(o[2]);return s.isOk?t([i.value,u.value,s.value]):{isOk:!1,value:null}}(e,n,r,o)}},e.oneOf=function(e){return function(t){return function(e,t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r.isOk)return r}return{isOk:!1,value:null}}(e,t)}},e.map=function(e,n){return function(r){return function(e,n,r){var o=e(r);return o.isOk?t(n(o.value)):{isOk:!1,value:null}}(e,n,r)}},e.filter=function(e,t){return function(n){return function(e,t,n){var r=e(n);return r.isOk?t(r.value)?r:{isOk:!1,value:null}:r}(e,t,n)}},e.extend=function(e,t){return function(n){return function(e,t,n){var r=e(n);return r.isOk?t(r.value):{isOk:!1,value:null}}(e,t,n)}},e.lazy=function(e){return function(t){return e()(t)}},e.createJsonDecoder=function(e){return function(t){return function(e,t){try{return e(JSON.parse(t))}catch(e){return{isOk:!1,value:null}}}(e,t)}},e.decodeValue=function(e,t){return e(t)}}(l||(l={})),function(e){e.of=function(e){return null==e?[]:[e]},e.withDefault=function(e,t){return 0===e.length?t:e[0]},e.withDefaultf=function(e,t){return 0===e.length?t():e[0]},e.map=function(e,t){return 0===e.length?[]:[t(e[0])]},e.map2=function(e,t,n){return 0===e.length||0===t.length?[]:[n(e[0],t[0])]},e.map3=function(e,t,n,r){return 0===e.length||0===t.length||0===n.length?[]:[r(e[0],t[0],n[0])]},e.andThen=function(e,t){return 0===e.length?[]:t(e[0])}}(f||(f={})),function(e){function t(e){return e[0]}e.isOk=t,e.isErr=function(e){return!e[0]},e.ok=function(e){return[!0,e]},e.err=function(e){return[!1,e]},e.map=function(e,n){return t(e)?[!0,n(e[1])]:[!1,e[1]]},e.mapErr=function(e,n){return t(e)?[!0,e[1]]:[!1,n(e[1])]},e.andThen=function(e,n){return t(e)?n(e[1]):[!1,e[1]]}}(h||(h={}));var p=function(){function e(t,n){i()(this,e),this.x=t,this.y=n}return s()(e,[{key:"eq",value:function(t){return e.eq(this,t)}}]),e}();!function(e){e.eq=function(e,t){return e.x===t.x&&e.y===t.y},e.lerp=function(t,n,r){return new e(n.x+(r.x-n.x)*t,n.y+(r.y-n.y)*t)},e.distance=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}}(p||(p={}));var b=function(){function e(t,n,r){i()(this,e),this.x=t,this.y=n,this.z=r}return s()(e,[{key:"eq",value:function(t){return e.eq(this,t)}}]),e}();!function(e){e.eq=function(e,t){return e.x===t.x&&e.y===t.y&&e.y===t.y},e.lerp=function(t,n,r){return new e(n.x+(r.x-n.x)*t,n.y+(r.y-n.y)*t,n.z+(r.z-n.z)*t)}}(b||(b={}));var g=function(){function e(t,n,r,o){i()(this,e),this.x=t,this.y=n,this.z=r,this.w=o}return s()(e,[{key:"eq",value:function(t){return e.eq(this,t)}}]),e}();!function(e){e.fromRgba=function(t,n){return new e(t.r*n,t.g*n,t.b*n,n)},e.eq=function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}}(g||(g={}));var y={make:function(e){var t=!1;window.painterStop=function(){return t=!0};var n=requestAnimationFrame(function r(){if(!t){try{e(performance.now())}catch(e){}n=requestAnimationFrame(r)}});return function(){return cancelAnimationFrame(n)}}},m=function(){function e(t){i()(this,e),this.maxSamples=t.maxSamples,this.onSamples=t.onSamples,this.samples=new Array(t.maxSamples),this.nextIdx=0,this.startTimeMs=null}return s()(e,[{key:"start",value:function(){this.startTimeMs,this.startTimeMs=performance.now()}},{key:"end",value:function(){this.startTimeMs;var e=performance.now(),t=this.startTimeMs;this.startTimeMs=null,this.samples[this.nextIdx++]={startMs:t,endMs:e},this.nextIdx===this.maxSamples&&(this.onSamples(this.samples),this.samples=new Array(this.maxSamples),this.nextIdx=0)}}]),e}();n.d(t,"c",function(){return T}),n.d(t,"f",function(){return w}),n.d(t,"r",function(){return x}),n.d(t,"p",function(){return R}),n.d(t,"q",function(){return O}),n.d(t,"m",function(){return E}),n.d(t,"o",function(){return I}),n.d(t,"l",function(){return A}),n.d(t,"j",function(){return k}),n.d(t,"k",function(){return j}),n.d(t,"a",function(){return _}),n.d(t,"n",function(){return S}),n.d(t,"g",function(){return r}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return m});var _,T=function(){function e(t){i()(this,e),this.__fn=t,this.__value=null}return s()(e,[{key:"value",get:function(){return null===this.__value&&(this.__value=this.__fn()),this.__value}}]),e}(),w=function(){function e(){i()(this,e),this.__value=null}return s()(e,[{key:"set",value:function(e){if(null!==this.__value)throw"Attempted to re-set a SetOnce";this.__value=e}},{key:"value",get:function(){if(null===this.__value)throw"Attempted to get the value of a SetOnce before it was set";return this.__value}}]),e}();function x(e,t){return void 0!==e?e:t}function R(e,t,n,r){var o=n-e,i=r-t;return Math.sqrt(o*o+i*i)}function O(e,t,n){return t+(n-t)*e}function E(e,t,n){return n<e?e:n>t?t:n}function I(e){return new Promise(function(t){setTimeout(t,e)})}function A(e,t,n){var r=e.slice();return r.splice(t,1,n),r}function k(e,t,n){var r=e.slice();return r.splice(t,0,n),r}function j(e,t){var n=e.slice();return n.splice(t,1),n}function S(e){switch(e){case _.Hsv:return"Hsv";case _.Hsluv:return"Hsluv"}}!function(e){e[e.Hsv=0]="Hsv",e[e.Hsluv=1]="Hsluv"}(_||(_={}))},function(e,t,n){"use strict";var r,o=n(6),i=n.n(o),u=n(0),s=n.n(u);function a(e,t,n){var r=c(e,t,WebGLRenderingContext.VERTEX_SHADER),o=c(e,n,WebGLRenderingContext.FRAGMENT_SHADER);if(null===r||null===o)return null;var i=e.createProgram();if(null===i)return null;e.attachShader(i,r),e.attachShader(i,o);var u=function(e,t){return e.linkProgram(t),null!==t||e.getProgramParameter(t,WebGLRenderingContext.LINK_STATUS)?t:(e.deleteProgram(t),null)}(e,i);return e.deleteShader(r),e.deleteShader(o),u}function c(e,t,n){var r=e.createShader(n);if(null===r)return null;if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,WebGLRenderingContext.COMPILE_STATUS))return r;!function(e){var t=e.split("\n"),n=t.length.toString().length;t.map(function(e,t){return function(e,t,n){var r=t-e.length;if(r<=0)return e;for(var o=[],i=0;i<r;i++)o.push(n);return o.push(e),o.join("")}(t.toString(10),n,"0")+"| "+e}).join("\n")}(t);return e.deleteShader(r),null}n.d(t,"i",function(){return a}),n.d(t,"h",function(){return r}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return v}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return"#ifndef TAU\n    #define TAU 6.283185307179586\n#endif"}),n.d(t,"e",function(){return"\nfloat from_linear(float c) {\n    return c <= 0.0031308 \n        ? c * 12.92\n        : pow(c * 1.055, 1.0 / 2.4) - 0.055;\n}\n\nvec3 from_linear(vec3 color) {\n    return vec3(from_linear(color.x), from_linear(color.y), from_linear(color.z));\n}\n"}),n.d(t,"g",function(){return"\nvec3 hsvToRgb(in vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}"}),n.d(t,"f",function(){return"\nvec3 hsluv_intersectLineLine(vec3 line1x, vec3 line1y, vec3 line2x, vec3 line2y) {\n    return (line1y - line2y) / (line2x - line1x);\n}\n\nvec3 hsluv_distanceFromPole(vec3 pointx,vec3 pointy) {\n    return sqrt(pointx*pointx + pointy*pointy);\n}\n\nvec3 hsluv_lengthOfRayUntilIntersect(float theta, vec3 x, vec3 y) {\n    vec3 len = y / (sin(theta) - x * cos(theta));\n    if (len.r < 0.0) {len.r=1000.0;}\n    if (len.g < 0.0) {len.g=1000.0;}\n    if (len.b < 0.0) {len.b=1000.0;}\n    return len;\n}\n\nfloat hsluv_maxSafeChromaForL(float L){\n    mat3 m2 = mat3(\n         3.2409699419045214  ,-0.96924363628087983 , 0.055630079696993609,\n        -1.5373831775700935  , 1.8759675015077207  ,-0.20397695888897657 ,\n        -0.49861076029300328 , 0.041555057407175613, 1.0569715142428786  \n    );\n    float sub0 = L + 16.0;\n    float sub1 = sub0 * sub0 * sub0 * .000000641;\n    float sub2 = sub1 > 0.0088564516790356308 ? sub1 : L / 903.2962962962963;\n\n    vec3 top1   = (284517.0 * m2[0] - 94839.0  * m2[2]) * sub2;\n    vec3 bottom = (632260.0 * m2[2] - 126452.0 * m2[1]) * sub2;\n    vec3 top2   = (838422.0 * m2[2] + 769860.0 * m2[1] + 731718.0 * m2[0]) * L * sub2;\n\n    vec3 bounds0x = top1 / bottom;\n    vec3 bounds0y = top2 / bottom;\n\n    vec3 bounds1x =              top1 / (bottom+126452.0);\n    vec3 bounds1y = (top2-769860.0*L) / (bottom+126452.0);\n\n    vec3 xs0 = hsluv_intersectLineLine(bounds0x, bounds0y, -1.0/bounds0x, vec3(0.0) );\n    vec3 xs1 = hsluv_intersectLineLine(bounds1x, bounds1y, -1.0/bounds1x, vec3(0.0) );\n\n    vec3 lengths0 = hsluv_distanceFromPole( xs0, bounds0y + xs0 * bounds0x );\n    vec3 lengths1 = hsluv_distanceFromPole( xs1, bounds1y + xs1 * bounds1x );\n\n    return  min(lengths0.r,\n            min(lengths1.r,\n            min(lengths0.g,\n            min(lengths1.g,\n            min(lengths0.b,\n                lengths1.b)))));\n}\n\nfloat hsluv_maxChromaForLH(float L, float H) {\n\n    float hrad = radians(H);\n\n    mat3 m2 = mat3(\n         3.2409699419045214  ,-0.96924363628087983 , 0.055630079696993609,\n        -1.5373831775700935  , 1.8759675015077207  ,-0.20397695888897657 ,\n        -0.49861076029300328 , 0.041555057407175613, 1.0569715142428786  \n    );\n    float sub1 = pow(L + 16.0, 3.0) / 1560896.0;\n    float sub2 = sub1 > 0.0088564516790356308 ? sub1 : L / 903.2962962962963;\n\n    vec3 top1   = (284517.0 * m2[0] - 94839.0  * m2[2]) * sub2;\n    vec3 bottom = (632260.0 * m2[2] - 126452.0 * m2[1]) * sub2;\n    vec3 top2   = (838422.0 * m2[2] + 769860.0 * m2[1] + 731718.0 * m2[0]) * L * sub2;\n\n    vec3 bound0x = top1 / bottom;\n    vec3 bound0y = top2 / bottom;\n\n    vec3 bound1x =              top1 / (bottom+126452.0);\n    vec3 bound1y = (top2-769860.0*L) / (bottom+126452.0);\n\n    vec3 lengths0 = hsluv_lengthOfRayUntilIntersect(hrad, bound0x, bound0y );\n    vec3 lengths1 = hsluv_lengthOfRayUntilIntersect(hrad, bound1x, bound1y );\n\n    return  min(lengths0.r,\n            min(lengths1.r,\n            min(lengths0.g,\n            min(lengths1.g,\n            min(lengths0.b,\n                lengths1.b)))));\n}\n\nfloat hsluv_fromLinear(float c) {\n    return c <= 0.0031308 ? 12.92 * c : 1.055 * pow(c, 1.0 / 2.4) - 0.055;\n}\nvec3 hsluv_fromLinear(vec3 c) {\n    return vec3( hsluv_fromLinear(c.r), hsluv_fromLinear(c.g), hsluv_fromLinear(c.b) );\n}\n\nfloat hsluv_toLinear(float c) {\n    return c > 0.04045 ? pow((c + 0.055) / (1.0 + 0.055), 2.4) : c / 12.92;\n}\n\nvec3 hsluv_toLinear(vec3 c) {\n    return vec3( hsluv_toLinear(c.r), hsluv_toLinear(c.g), hsluv_toLinear(c.b) );\n}\n\nfloat hsluv_yToL(float Y){\n    return Y <= 0.0088564516790356308 ? Y * 903.2962962962963 : 116.0 * pow(Y, 1.0 / 3.0) - 16.0;\n}\n\nfloat hsluv_lToY(float L) {\n    return L <= 8.0 ? L / 903.2962962962963 : pow((L + 16.0) / 116.0, 3.0);\n}\n\nvec3 xyzToRgb(vec3 tuple) {\n    const mat3 m = mat3( \n        3.2409699419045214  ,-1.5373831775700935 ,-0.49861076029300328 ,\n       -0.96924363628087983 , 1.8759675015077207 , 0.041555057407175613,\n        0.055630079696993609,-0.20397695888897657, 1.0569715142428786  );\n    \n    return hsluv_fromLinear(tuple*m);\n}\n\nvec3 rgbToXyz(vec3 tuple) {\n    const mat3 m = mat3(\n        0.41239079926595948 , 0.35758433938387796, 0.18048078840183429 ,\n        0.21263900587151036 , 0.71516867876775593, 0.072192315360733715,\n        0.019330818715591851, 0.11919477979462599, 0.95053215224966058 \n    );\n    return hsluv_toLinear(tuple) * m;\n}\n\nvec3 xyzToLuv(vec3 tuple){\n    float X = tuple.x;\n    float Y = tuple.y;\n    float Z = tuple.z;\n\n    float L = hsluv_yToL(Y);\n    \n    float div = 1./dot(tuple,vec3(1,15,3)); \n\n    return vec3(\n        1.,\n        (52. * (X*div) - 2.57179),\n        (117.* (Y*div) - 6.08816)\n    ) * L;\n}\n\n\nvec3 luvToXyz(vec3 tuple) {\n    float L = tuple.x;\n\n    float U = tuple.y / (13.0 * L) + 0.19783000664283681;\n    float V = tuple.z / (13.0 * L) + 0.468319994938791;\n\n    float Y = hsluv_lToY(L);\n    float X = 2.25 * U * Y / V;\n    float Z = (3./V - 5.)*Y - (X/3.);\n\n    return vec3(X, Y, Z);\n}\n\nvec3 luvToLch(vec3 tuple) {\n    float L = tuple.x;\n    float U = tuple.y;\n    float V = tuple.z;\n\n    float C = length(tuple.yz);\n    float H = degrees(atan(V,U));\n    if (H < 0.0) {\n        H = 360.0 + H;\n    }\n    \n    return vec3(L, C, H);\n}\n\nvec3 lchToLuv(vec3 tuple) {\n    float hrad = radians(tuple.b);\n    return vec3(\n        tuple.r,\n        cos(hrad) * tuple.g,\n        sin(hrad) * tuple.g\n    );\n}\n\nvec3 hsluvToLch(vec3 tuple) {\n    tuple.g *= hsluv_maxChromaForLH(tuple.b, tuple.r) * .01;\n    return tuple.bgr;\n}\n\nvec3 lchToHsluv(vec3 tuple) {\n    tuple.g /= hsluv_maxChromaForLH(tuple.r, tuple.b) * .01;\n    return tuple.bgr;\n}\n\nvec3 hpluvToLch(vec3 tuple) {\n    tuple.g *= hsluv_maxSafeChromaForL(tuple.b) * .01;\n    return tuple.bgr;\n}\n\nvec3 lchToHpluv(vec3 tuple) {\n    tuple.g /= hsluv_maxSafeChromaForL(tuple.r) * .01;\n    return tuple.bgr;\n}\n\nvec3 lchToRgb(vec3 tuple) {\n    return xyzToRgb(luvToXyz(lchToLuv(tuple)));\n}\n\nvec3 rgbToLch(vec3 tuple) {\n    return luvToLch(xyzToLuv(rgbToXyz(tuple)));\n}\n\nvec3 hsluvToRgb(vec3 tuple) {\n    return lchToRgb(hsluvToLch(tuple));\n}\n\nvec3 rgbToHsluv(vec3 tuple) {\n    return lchToHsluv(rgbToLch(tuple));\n}\n\nvec3 hpluvToRgb(vec3 tuple) {\n    return lchToRgb(hpluvToLch(tuple));\n}\n\nvec3 rgbToHpluv(vec3 tuple) {\n    return lchToHpluv(rgbToLch(tuple));\n}\n\nvec3 luvToRgb(vec3 tuple){\n    return xyzToRgb(luvToXyz(tuple));\n}\n"}),function(e){e[e.I1=0]="I1",e[e.F1=1]="F1",e[e.F2=2]="F2",e[e.F3=3]="F3",e[e.F4=4]="F4"}(r||(r={}));var l,f=function e(t,n){s()(this,e),this.location=t,this.type=n};function h(e,t,n){var r={},o=[];for(var i in n)if(n.hasOwnProperty(i)){var u=e.getUniformLocation(t,i);null===u?o.push(i):r[i]=new f(u,n[i])}if(0===o.length)return r;for(var s=0;s<o.length;s++)"\n - "+o[s];return null}function v(e,t,n){for(var o in t)if(n.hasOwnProperty(o)){var i=t[o];switch(i.type){case r.I1:var u=n[o];e.uniform1i(i.location,u);break;case r.F1:var s=n[o];e.uniform1f(i.location,s);break;case r.F2:var a=n[o];e.uniform2f(i.location,a.x,a.y);break;case r.F3:var c=n[o];e.uniform3f(i.location,c.x,c.y,c.z);break;case r.F4:var l=n[o];e.uniform4f(i.location,l.x,l.y,l.z,l.w);break;default:i.type;throw{"unexpected type":i}}}}!function(e){e[e.Float=0]="Float"}(l||(l={}));var d,p=function e(t){switch(s()(this,e),this.name=t.name,this.size=t.size,t.type){case l.Float:this.glType=WebGLRenderingContext.FLOAT,this.bytes=4*t.size;break;default:t.type;throw{"Unexpected type on attribute":t}}},b=function(){function e(t){s()(this,e);for(var n=new Array(t.length),r=0;r<t.length;r++){var o=t[r];n[r]=new p(o)}this.attributes=n;for(var i=0,u=0;u<this.attributes.length;u++)i+=this.attributes[u].size;this.size=i,this.stride=4*i}return i()(e,[{key:"bindAttribLocations",value:function(e,t){for(var n=this.attributes,r=0;r<n.length;r++)e.bindAttribLocation(t,r,n[r].name)}},{key:"vertexAttrib",value:function(e){for(var t=this.attributes,n=0,r=0;r<t.length;r++){var o=t[r];e.vertexAttribPointer(r,o.size,o.glType,!1,this.stride,n),n+=o.bytes}for(var i=0;i<t.length;i++)e.enableVertexAttribArray(i)}},{key:"getDrawCount",value:function(e){return e/this.size}}]),e}();!function(e){var t;!function(e){e[e.Normal=0]="Normal",e[e.Erase=1]="Erase"}(t=e.Mode||(e.Mode={})),e.factorsNormal={sfact:WebGLRenderingContext.ONE,dfact:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA},e.factorsErase={sfact:WebGLRenderingContext.ZERO,dfact:WebGLRenderingContext.ONE_MINUS_SRC_ALPHA},e.getFactors=function(n){switch(n){case t.Normal:return e.factorsNormal;case t.Erase:return e.factorsErase}}}(d||(d={}))},function(e,t,n){var r=n(80),o=n(81),i=n(82);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(55);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.r=e,this.g=t,this.b=n}static fromCss(e){return(e=e.replace(/[ \t]/,"")).startsWith("rgb(")?function(e){const t=e.split(",");if(3!==t.length)return null;const n=Number.parseFloat(t[0])/255,r=Number.parseFloat(t[1])/255,o=Number.parseFloat(t[2])/255;return a(n,r,o)}(e.substr(4,e.length-5)):e.startsWith("#")?c(e.substr(1)):c(e)}is(e){return this.r===e.r&&this.g===e.g&&this.b===e.b}toRgb(){return this}with({r:e,g:t,b:n}){return new r(void 0!==e?e:this.r,void 0!==t?t:this.g,void 0!==n?n:this.b)}toStyle(){return`rgb(${s(this.r)},${s(this.g)},${s(this.b)})`}toLinear(){return new o(i(this.r),i(this.g),i(this.b))}toString(){return"Rgb("+this.r+", "+this.g+", "+this.b+")"}}class o{constructor(e,t,n){this.r=e,this.g=t,this.b=n}is(e){return this.r===e.r&&this.g===e.g&&this.b===e.b}with({r:e,g:t,b:n}){return new o(void 0!==e?e:this.r,void 0!==t?t:this.g,void 0!==n?n:this.b)}mix(e,t){return new o(h(e,this.r,t.r),h(e,this.g,t.g),h(e,this.b,t.b))}lighten(e){return this.mix(e,o.White)}darken(e){return this.mix(e,o.Black)}fromLinear(){return new r(u(this.r),u(this.g),u(this.b))}toString(){return"LinearRgb("+this.r+", "+this.g+", "+this.b+")"}}function i(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92}function u(e){return e<=.0031308?12.92*e:Math.pow(1.055*e,1/2.4)-.055}function s(e){return 255.9999999*e|0}function a(e,t,n){return isNaN(e)||!isFinite(e)?null:isNaN(t)||!isFinite(t)?null:isNaN(n)||!isFinite(n)?null:new r(e,t,n)}function c(e){if(3===e.length){return a(f(e[0])/15,f(e[1])/15,f(e[2])/15)}if(6===e.length){return a(l(e[0],e[1]),l(e[2],e[3]),l(e[4],e[5]))}return null}function l(e,t){return(16*f(e)+f(t))/255}function f(e){switch(e.toLowerCase()){case"0":return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9;case"a":return 10;case"b":return 11;case"c":return 12;case"d":return 13;case"e":return 14;case"f":return 15;default:return NaN}}function h(e,t,n){return t+e*n}o.White=new o(1,1,1),o.Black=new o(0,0,0);class v{constructor(e,t,n){this.h=e,this.s=t,this.v=n,this.__cachedRgb=null}is(e){return this.h===e.h&&this.s===e.s&&this.v===e.v}toRgb(){return null===this.__cachedRgb&&(this.__cachedRgb=d(this)),this.__cachedRgb}toStyle(){return this.toRgb().toStyle()}with({h:e,s:t,v:n}){return new v(void 0!==e?e:this.h,void 0!==t?t:this.s,void 0!==n?n:this.v)}toString(){return"Hsv("+this.h+", "+this.s+", "+this.v+")"}}function d({h:e,s:t,v:n}){const o=6*e|0,i=6*e-o,u=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t);let c,l,f;switch(o%6){case 0:c=n,l=a,f=u;break;case 1:c=s,l=n,f=u;break;case 2:c=u,l=n,f=a;break;case 3:c=u,l=s,f=n;break;case 4:c=a,l=u,f=n;break;default:c=n,l=u,f=s}return new r(c,l,f)}class p{constructor(e,t){this.x=e,this.y=t}}class b{constructor(e,t,n){this.x=e,this.y=t,this.z=n}}class g{constructor(e,t,n){this.l=e,this.u=t,this.v=n}}class y{constructor(e,t,n){this.h=e,this.s=t,this.l=n,this.__cachedRgb=null}is(e){return this.h===e.h&&this.s===e.s&&this.l===e.l}with({h:e,s:t,l:n}){return new y(void 0!==e?e:this.h,void 0!==t?t:this.s,void 0!==n?n:this.l)}toRgb(){return null===this.__cachedRgb&&(this.__cachedRgb=W(this)),this.__cachedRgb}toStyle(){return this.toRgb().toStyle()}toString(){return"Hsluv("+this.h+", "+this.s+", "+this.l+")"}}class m{constructor(e,t,n){this.h=e,this.p=t,this.l=n,this.__cachedRgb=null}is(e){return this.h===e.h&&this.p===e.p&&this.l===e.l}with({h:e,p:t,l:n}){return new m(void 0!==e?e:this.h,void 0!==t?t:this.p,void 0!==n?n:this.l)}toRgb(){return null===this.__cachedRgb&&(this.__cachedRgb=X(this)),this.__cachedRgb}toStyle(){return this.toRgb().toStyle()}toString(){return"Hsv("+this.h+", "+this.p+", "+this.l+")"}}class _{constructor(e,t,n){this.l=e,this.c=t,this.h=n}}class T{constructor(e,t,n){this.x=e,this.y=t,this.z=n}}const w=[new b(3.240969941904521,-1.537383177570093,-.498610760293),new b(-.96924363628087,1.87596750150772,.041555057407175),new b(.055630079696993,-.20397695888897,1.056971514242878)],x=[new b(.41239079926595,.35758433938387,.18048078840183),new b(.21263900587151,.71516867876775,.072192315360733),new b(.019330818715591,.11919477979462,.95053215224966)],R=1,O=.19783000664283,E=.46831999493879,I=903.2962962,A=.0088564516;function k(e,t){const n=t.y/(Math.sin(e)-t.x*Math.cos(e));return n<0?-1e-4:n}function j(e){const t=Math.pow(e+16,3)/1560896,n=t>A?t:e/I,r=new Array(6);for(let t=0;t<3;t++){const o=w[t].x,i=w[t].y,u=w[t].z;for(let s=0;s<2;s++){const a=(284517*o-94839*u)*n,c=(838422*u+769860*i+731718*o)*e*n-769860*s*e,l=(632260*u-126452*i)*n+126452*s;r[2*t+s]=new p(a/l,c/l)}}return r}function S(e,t){return Math.sqrt(e*e+t*t)}function L(e){const t=j(e);let n=Number.MAX_VALUE;for(let e=0;e<2;++e){const i=t[e],u=(r=i,o=new p(-1/i.x,0),(r.y-o.y)/(o.x-r.x)),s=S(u,i.y+u*i.x);s<n&&(n=s)}var r,o;return n}function G(e,t){const n=t/360*Math.PI*2,r=j(e);let o=Number.MAX_VALUE;for(let e=0;e<r.length;e++){const t=k(n,r[e]);t>=0&&t<o&&(o=t)}return o}function M({l:e,u:t,v:n}){const r=S(t,n);if(r<1e-8)return new _(e,r,0);const o=180*Math.atan2(n,t)/Math.PI;return new _(e,r,o<0?o+360:o)}function C({l:e,c:t,h:n}){const r=n*Math.PI/180;const o=Math.cos(r)*t,i=Math.sin(r)*t;return new g(e,o,i)}function F(e,t){return[e(t[0]),e(t[1]),e(t[2])]}function P(e){const t=e.toLinear(),n=F(e=>t.r*e.x+t.g*e.y+t.b*e.z,x);return new T(n[0],n[1],n[2])}function V(e){const t=F(t=>(function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})(e.x*t.x+e.y*t.y+e.z*t.z),w);return new r(t[0],t[1],t[2])}function B({l:e,c:t,h:n}){if(e>99.9999999)return new y(n,0,100);if(e<1e-8)return new y(n,0,0);const r=G(e,n);return new y(n,t/r*100,e)}function D({h:e,s:t,l:n}){if(n>99.9999999)return new _(100,0,e);if(n<1e-8)return new _(0,0,e);const r=G(n,e);return new _(n,r/100*t,e)}function N({l:e,c:t,h:n}){if(e>99.9999999)return new m(n,0,100);if(e<1e-8)return new m(n,0,0);const r=L(e);return new m(n,t/r*100,e)}function z({h:e,p:t,l:n}){if(n>99.9999999)return new _(100,0,e);if(n<1e-8)return new _(0,0,e);const r=L(n);return new _(n,r/100*t,e)}function H(e){return M(Y(P(e)))}function U(e){return V(q(C(e)))}function W(e){return U(D(e))}function X(e){return U(z(e))}function Y({x:e,y:t,z:n}){if(0===e&&0===t&&0===n)return new g(0,0,0);const r=(o=t)>A?116*Math.pow(o/R,1/3)-16:o/R*I;var o;if(0===r)return new g(0,0,0);return new g(r,13*r*(4*e/(e+15*t+3*n)-O),13*r*(9*t/(e+15*t+3*n)-E))}function q({l:e,u:t,v:n}){if(0===e)return new T(0,0,0);const r=t/(13*e)+O,o=n/(13*e)+E,i=((u=e)>8?Math.pow(R*((u+16)/116),3):R*u/I)*R;var u;const s=0-9*i*r/((r-4)*o-r*o);return new T(s,i,(9*i-15*o*i-o*s)/(3*o))}t.Rgb=r,t.RgbLinear=o,t.Hsv=v,t.rgbToHsv=function({r:e,g:t,b:n}){const r=Math.max(e,t,n),o=Math.min(e,t,n),i=r-o,u=0===r?0:i/r;let s;switch(r){case o:s=0;break;case e:s=(t-n)/i+(t<n?6:0);break;case t:s=(n-e)/i+2;break;default:s=(e-t)/i+4}return new v(s/6,u,r)},t.hsvToRgb=d,t.Luv=g,t.Hsluv=y,t.Hpluv=m,t.Lch=_,t.Xyz=T,t.luvToLch=M,t.lchToLuv=C,t.rgbToXyz=P,t.xyzToRgb=V,t.lchToHsluv=B,t.hsluvToLch=D,t.lchToHpluv=N,t.hpluvToLch=z,t.luvToRgb=function(e){return V(q(e))},t.rgbToLch=H,t.lchToRgb=U,t.rgbToHsluv=function(e){return B(H(e))},t.hsluvToRgb=W,t.rgbToHpluv=function(e){return N(H(e))},t.hpluvToRgb=X,t.xyzToLuv=Y,t.luvToXyz=q,t.toGray=function({r:e,g:t,b:n}){const o=Math.sqrt(.299*e*e+.587*t*t+.114*n*n);return new r(o,o,o)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=void 0},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u}),n.d(t,"j",function(){return s}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"k",function(){return b});const r=(e,t)=>Object.getOwnPropertyDescriptor(e,t),o="ssr"===e.env.IVI_TARGET?void 0:Node.prototype,i="ssr"===e.env.IVI_TARGET?void 0:Element.prototype,u="ssr"===e.env.IVI_TARGET?void 0:document,s=Object.prototype.hasOwnProperty,a="ssr"===e.env.IVI_TARGET?void 0:o.insertBefore,c="ssr"===e.env.IVI_TARGET?void 0:o.removeChild,l=("ssr"===e.env.IVI_TARGET||o.replaceChild,"ssr"===e.env.IVI_TARGET?void 0:o.cloneNode),f="ssr"===e.env.IVI_TARGET?void 0:i.setAttribute,h=("ssr"===e.env.IVI_TARGET||i.setAttributeNS,"ssr"===e.env.IVI_TARGET?void 0:i.removeAttribute),v="ssr"===e.env.IVI_TARGET?void 0:r(o,"textContent").set,d="ssr"===e.env.IVI_TARGET?void 0:r(i,"className").set,p="ssr"===e.env.IVI_TARGET?void 0:r(HTMLElement.prototype,"style").get,b="ssr"===e.env.IVI_TARGET?void 0:r(SVGElement.prototype,"style").get}).call(this,n(35))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(9),o=n(2),i=n(40);function u(e){var t=e.label,n=e.value,u=e.children;return Object(o.e)(i.container,r.a,[Object(o.e)(i.textContainer,r.a,[Object(o.h)(i.label,r.a,t),Object(o.h)(i.label,r.a,n||"")]),Object(o.e)(i.content,r.a,u)])}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),o=n(62),i=n(63),u=n(16),s=n(26),a=n(15),c=n(43),l=n(64),f=n(9),h=n(2),v=n(41);function d(){}var p=Object(r.a)(function(e){var t=Object(o.a)(null),n=!1,r=d;function p(e){var n,o,u,s=Object(i.a)(t).getBoundingClientRect(),a=s.width-12,c=(n=e.clientX-s.left-6,u=a,n<(o=0)?o:n>u?u:n);r(c/a)}function b(t){p(t),n=!0,Object(u.b)(e)}function g(){n=!1,Object(u.b)(e)}function y(e){n&&p(e)}var m=Object(s.a)(e,function(){return document.body.addEventListener("mouseup",g,{passive:!0}),document.body.addEventListener("mousemove",y,{passive:!0}),function(){document.body.removeEventListener("mouseup",g),document.body.removeEventListener("mousemove",y)}});return function(e){r=e.onChange,m();var n=void 0!==e.color?e.color.toStyle():void 0,o=Math.max(0,Math.min(1,e.percentage));return Object(a.a)(Object(c.d)(b),Object(l.a)(t,Object(h.e)(v.container,f.a,[Object(h.e)(f.a,f.a,[Object(h.e)(0===o?v.emptyButton:v.button,{style:{left:"calc("+o+" * calc(100% - 0.75rem))","background-color":n}}),Object(h.e)(v.filledLineClass,{style:{width:100*o+"%","background-color":n}}),Object(h.e)(v.baseLine)])])))}})},function(e,t,n){"use strict";var r,o=n(5),i=n.n(o),u=n(7),s=n.n(u),a=n(0),c=n.n(a),l=n(22),f=n(21),h=n(3);!function(e){e[e.SetZoomMsg=0]="SetZoomMsg",e[e.SetOffsetMsg=1]="SetOffsetMsg",e[e.SetRotationMsg=2]="SetRotationMsg"}(r||(r={}));var v=function e(t){c()(this,e),this.zoomPct=t,this.type=r.SetZoomMsg},d=function e(t){c()(this,e),this.offsetPx=t,this.type=r.SetOffsetMsg},p=function e(t){c()(this,e),this.rotationRad=t,this.type=r.SetRotationMsg};function b(e,t){switch(t.type){case r.SetZoomMsg:return s()({},e,{zoomPct:t.zoomPct});case r.SetOffsetMsg:return s()({},e,{offsetPx:t.offsetPx});case r.SetRotationMsg:return s()({},e,{rotationRad:t.rotationRad});default:throw{"unexpected msg":t}}}function g(e){return{setRotation:function(t){return e(new p(t))},setOffset:function(t){return e(new d(t))},setZoom:function(t){return e(new v(t))}}}function y(e,t,n){var r=n.x-t.prevPoint.x,o=e.zoomPct+r/150;return new v(o)}function m(e,t,n){var r=Math.atan2(n.y-t.clickPoint.y,n.x-t.clickPoint.x);return new p(r)}function _(e,t,n){var r=n.x-t.prevPoint.x,o=n.y-t.prevPoint.y,i=new h.h(e.offsetPx.x+r,e.offsetPx.y+o);return new d(i)}var T,w=n(4);n.d(t,"b",function(){return A}),n.d(t,"a",function(){return x}),n.d(t,"e",function(){return C}),n.d(t,"f",function(){return F}),n.d(t,"k",function(){return V}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return N}),n.d(t,"j",function(){return z}),n.d(t,"i",function(){return H}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return W}),function(e){e[e.SetToolMsg=0]="SetToolMsg",e[e.BrushMsg=1]="BrushMsg",e[e.EraserMsg=2]="EraserMsg",e[e.CameraMsg=3]="CameraMsg"}(T||(T={}));var x,R=function e(t){c()(this,e),this.subType=t,this.type=T.SetToolMsg},O=function e(t){c()(this,e),this.msg=t,this.type=T.BrushMsg},E=function e(t){c()(this,e),this.msg=t,this.type=T.EraserMsg},I=function e(t){c()(this,e),this.msg=t,this.type=T.CameraMsg};function A(e){return{brush:l.b(function(t){return e(new O(t))}),eraser:f.b(function(t){return e(new E(t))}),camera:g(function(t){return e(new I(t))}),setTool:function(t){return e(new R(t))}}}!function(e){e[e.Brush=0]="Brush",e[e.Eraser=1]="Eraser",e[e.Move=2]="Move",e[e.Zoom=3]="Zoom",e[e.Rotate=4]="Rotate"}(x||(x={}));var k,j=function e(t){c()(this,e),this.state=t,this.type=x.Brush},S=function e(t){c()(this,e),this.state=t,this.type=x.Eraser},L=function e(t){c()(this,e),this.state=t,this.type=x.Move},G=function e(t){c()(this,e),this.state=t,this.type=x.Zoom},M=function e(t){c()(this,e),this.state=t,this.type=x.Rotate};function C(){return{brush:l.c(),eraser:f.c(),camera:{zoomPct:1,offsetPx:new h.h(0,0),rotationRad:0},current:x.Brush}}function F(){return P()}function P(){return new j(l.d())}function V(e,t){switch(t.type){case T.SetToolMsg:switch(t.subType){case x.Brush:return s()({},e,{current:x.Brush});case x.Eraser:return s()({},e,{current:x.Eraser});case x.Move:return s()({},e,{current:x.Move});case x.Zoom:return s()({},e,{current:x.Zoom});case x.Rotate:return s()({},e,{current:x.Rotate});default:throw{"unexpected tool type: ":t.type}}case T.BrushMsg:return s()({},e,{brush:l.i(e.brush,t.msg)});case T.EraserMsg:return s()({},e,{eraser:f.i(e.eraser,t.msg)});case T.CameraMsg:return s()({},e,{camera:b(e.camera,t.msg)});default:throw{"unexpected msg":t}}}function B(e,t){if(t.type===e.current)return t;switch(e.current){case x.Brush:return P();case x.Eraser:return new S(f.d());case x.Move:return new L(null);case x.Rotate:return new M(null);case x.Zoom:return new G(null);default:e.current;throw{"Unknown tool type: ":e.current}}}function D(e,t,n){var r=B(e,t);switch(r.type){case x.Brush:var o=l.e(e.camera,e.brush,n),u=i()(o,2),a=u[0],c=u[1];return[e,new j(a),[c]];case x.Eraser:var h=f.e(e.camera,e.eraser,n),v=i()(h,2),d=v[0],p=v[1];return[e,new S(d),[p]];case x.Move:if(null!==r.state)return[e,r,[]];var g={clickPoint:n,prevPoint:n},T=_(e.camera,g,n),w=b(e.camera,T);return[s()({},e,{camera:w}),new L(g),[]];case x.Zoom:if(null!==r.state)return[e,r,[]];var R={clickPoint:n,prevPoint:n},O=y(e.camera,R,n),E=b(e.camera,O);return[s()({},e,{camera:E}),new G(R),[]];case x.Rotate:if(null!==r.state)return[e,r,[]];var I={clickPoint:n,prevPoint:n},A=m(e.camera,I,n),k=b(e.camera,A);return[s()({},e,{camera:k}),new M(I),[]]}}function N(e,t,n){var r=B(e,t);switch(r.type){case x.Brush:var o=l.f(e.camera,e.brush,r.state,n),u=i()(o,2),a=u[0],c=u[1];return[e,new j(a),c];case x.Eraser:var h=f.f(e.camera,e.eraser,r.state,n),v=i()(h,2),d=v[0],p=v[1];return[e,new S(d),p];case x.Move:if(null===r.state)return[e,r,[]];var g=n[n.length-1],T=_(e.camera,r.state,g),w=b(e.camera,T),R={clickPoint:r.state.clickPoint,prevPoint:g};return[s()({},e,{camera:w}),new L(R),[]];case x.Zoom:if(null===r.state)return[e,r,[]];var O=n[n.length-1],E=y(e.camera,r.state,O),I=b(e.camera,E),A={clickPoint:r.state.clickPoint,prevPoint:O};return[s()({},e,{camera:I}),new G(A),[]];case x.Rotate:if(null===r.state)return[e,r,[]];var k=n[n.length-1],C=m(e.camera,r.state,k),F=b(e.camera,C),P={clickPoint:r.state.clickPoint,prevPoint:k};return[s()({},e,{camera:F}),new M(P),[]]}throw{"expected state":r}}function z(e,t,n){var r=B(e,t);switch(r.type){case x.Brush:var o=l.h(e.camera,e.brush,r.state,n),u=i()(o,2),a=u[0],c=u[1];return[e,new j(a),c];case x.Eraser:var h=f.h(e.camera,e.eraser,r.state,n),v=i()(h,2),d=v[0],p=v[1];return[e,new S(d),p];case x.Move:if(null===r.state)return[e,r,[]];var g=_(e.camera,r.state,n),T=b(e.camera,g);return[s()({},e,{camera:T}),new L(null),[]];case x.Zoom:if(null===r.state)return[e,r,[]];var w=y(e.camera,r.state,n),R=b(e.camera,w);return[s()({},e,{camera:R}),new G(null),[]];case x.Rotate:if(null===r.state)return[e,r,[]];var O=m(e.camera,r.state,n),E=b(e.camera,O);return[s()({},e,{camera:E}),new M(null),[]];default:throw{"expected state":r}}}function H(e,t,n){var r=B(e,t);switch(r.type){case x.Brush:var o=l.g(e.brush,r.state,n),u=i()(o,2),s=u[0],a=u[1];return s===r.state&&0===a.length?[r,a]:[new j(s),a];case x.Eraser:var c=f.g(e.eraser,r.state,n),h=i()(c,2),v=h[0],d=h[1];return v===r.state&&0===d.length?[r,d]:[new S(v),d];default:return[r,[]]}}function U(e){switch(e.current){case x.Brush:return w.c.Mode.Normal;case x.Eraser:return w.c.Mode.Erase;default:return w.c.Mode.Normal}}function W(e){switch(e.current){case x.Brush:return e.brush.softness;case x.Eraser:return e.eraser.softness;default:return 0}}!function(e){e[e.BrushState=0]="BrushState",e[e.EraserState=1]="EraserState",e[e.MoveState=2]="MoveState",e[e.ZoomState=3]="ZoomState",e[e.RotateState=4]="RotateState"}(k||(k={}))},,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return a});const r=(e,t)=>({f:e,d:t}),o=r(16,null),i=(r(8224,null),r(8,null),(e,t)=>({t:e,v:t})),u=(e,t,n)=>({t:e,v:t,c:n}),s=(e,t,n,r)=>({t:e,v:t,c:n,n:r}),a=(e,t)=>u(o,e,t)},function(e,t,n){"use strict";var r=n(27),o=n(62);const i=[];let u=!1;var s=n(92);function a(e,t){const n=e.length-1,r=e.pop();t!==n&&(e[t]=r)}function c(e){for(let t=0;t<e.length;++t)!0===e[t]()&&a(e,t--)}var l=n(36);function f(e){for(;e.v.length>0;){const t=e.v;e.v=[];for(let e=0;e<t.length;++e)t[e](r.c)}}n.d(t,"g",function(){return T}),n.d(t,"a",function(){return x}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return A}),n.d(t,"d",function(){return k}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return L});let h=0,v=0,d=1;const p=Promise.resolve(),b=Object(o.a)([]),g=Object(o.a)([]),y=Object(o.a)([]),m=[],_=[],T=e=>(function(e){return function(){if(!u)try{return e.apply(void 0,arguments)}catch(e){throw u=!0,i.forEach(t=>{t(e)}),e}}})(function(){h|=1,e.apply(void 0,arguments),f(b),h&=-4,++d}),w=T(s.a),x=()=>d;function R(e){b.v.push(e),0==(3&h)&&(h|=2,p.then(w))}const O=(e=>T(t=>{h|=16,e(t),0!=(4&h)&&(void 0!==t&&(v=t),c(m),0!=(32&h)&&Object(l.b)(),f(g),c(_),f(y)),h&=-61}))(s.a),E=()=>{O()};function I(e){void 0!==e&&0!=(1&e)&&0==(8&h)?0==(16&(h|=12))&&R(E):0==(4&h)&&0==(16&(h|=4))&&requestAnimationFrame(O)}function A(e,t){g.v.push(e),I(t)}function k(e,t){y.v.push(e),I(t)}function j(e){h|=32,I(e)}function S(e,t){e.f|=1024,j(t)}function L(e,t,n){const r=Object(l.c)(e=>e.container===t);r?r.next=e:l.a.push({container:t,state:null,next:e}),j(n)}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return s});n(15);let r=null;function o(){r=null}function i(e,t){return r={n:r,d:e,v:t}}function u(){return r}function s(e){return r=e}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l});var r=n(15),o=n(43),i=n(2),u=n(46);function s(e){var t=e.onClick,n=e.title,s=e.content;return Object(r.a)(Object(o.c)(t),Object(i.c)(u.primary,{title:n},s))}function a(e){var t=e.onClick,n=e.title,s=e.content;return Object(r.a)(Object(o.c)(t),Object(i.c)(u.ddefault,{title:n},s))}function c(){}function l(e){var t=e.isDown?u.sinkableSunk:u.sinkableUnsunk,n=e.isDown?e.onDownClick||c:e.onClick;return Object(r.a)(Object(o.c)(n),Object(i.c)(t,{title:e.title},e.children))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c});var r=n(3);function o(e){return Math.pow(e,.92)}function i(e){return{duration:e}}function u(e,t,n){return{pressure:Object(r.q)(e,t.pressure,n.pressure),x:Object(r.q)(e,t.x,n.x),y:Object(r.q)(e,t.y,n.y)}}function s(e,t){return{startTime:e,start:t,end:t}}function a(e,t,n,r){if(0===e.duration)return[{startTime:n,start:r,end:r},r];var i=n-t.startTime,s=u(o(Math.min(i/e.duration,1)),t.start,r);return[{startTime:n,start:s,end:r},s]}function c(e,t,n){var r=n-t.startTime;return r>=e.duration?[t,t.end]:[t,u(o(Math.min(r/e.duration,1)),t.start,t.end)]}},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return s});var r=n(9),o=n(2),i=n(58),u=i.surfaceLook;function s(e){return Object(o.e)(i.surface,r.a,e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return S}),n.d(t,"i",function(){return L}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return F}),n.d(t,"a",function(){return D});var r,o=n(5),i=n.n(o),u=n(7),s=n.n(u),a=n(0),c=n.n(a),l=n(9),f=n(2),h=n(68),v=n(30),d=n(19),p=n(8),b=n(3),g=n(20),y=n(11),m=n(12),_=n(28),T=n(29);!function(e){e[e.SetDiameterMsg=0]="SetDiameterMsg",e[e.SetSoftnessMsg=1]="SetSoftnessMsg",e[e.SetOpacityMsg=2]="SetOpacityMsg",e[e.SetSpacingMsg=3]="SetSpacingMsg",e[e.SetPressureAffectsOpacityMsg=4]="SetPressureAffectsOpacityMsg",e[e.SetPressureAffectsSizeMsg=5]="SetPressureAffectsSizeMsg",e[e.SetDelayMsg=6]="SetDelayMsg"}(r||(r={}));var w=function e(t){c()(this,e),this.diameterPx=t,this.type=r.SetDiameterMsg},x=function e(t){c()(this,e),this.softnessPct=t,this.type=r.SetSoftnessMsg},R=function e(t){c()(this,e),this.opacityPct=t,this.type=r.SetOpacityMsg},O=function e(t){c()(this,e),this.spacingPct=t,this.type=r.SetSpacingMsg},E=function e(t){c()(this,e),this.pressureAffectsOpacity=t,this.type=r.SetPressureAffectsOpacityMsg},I=function e(t){c()(this,e),this.pressureAffectsSize=t,this.type=r.SetPressureAffectsSizeMsg},A=function e(t){c()(this,e),this.delayMs=t,this.type=r.SetDelayMsg};function k(e){return{setDelay:function(t){return e(new A(t))},setDiameter:function(t){return e(new w(t))},setSoftness:function(t){return e(new x(t))},setOpacity:function(t){return e(new R(t))},setSpacing:function(t){return e(new O(t))},setPressureAffectsOpacity:function(t){return e(new E(t))},setPressureAffectsSize:function(t){return e(new I(t))}}}function j(){return null}function S(){return{diameterPx:15,softness:.3,flowPct:.3,spacingPct:.05,pressureAffectsOpacity:!1,pressureAffectsSize:!0,delay:d.a(5)}}function L(e,t){switch(t.type){case r.SetDiameterMsg:return s()({},e,{diameterPx:Object(b.m)(.1,500,t.diameterPx)});case r.SetSoftnessMsg:return s()({},e,{softness:Object(b.m)(0,1,t.softnessPct)});case r.SetOpacityMsg:return s()({},e,{flowPct:Object(b.m)(.01,1,t.opacityPct)});case r.SetSpacingMsg:return s()({},e,{spacingPct:Object(b.m)(.01,1,t.spacingPct)});case r.SetPressureAffectsOpacityMsg:return s()({},e,{pressureAffectsOpacity:t.pressureAffectsOpacity});case r.SetPressureAffectsSizeMsg:return s()({},e,{pressureAffectsSize:t.pressureAffectsSize});case r.SetDelayMsg:return s()({},e,{delay:d.a(Object(b.m)(0,500,t.delayMs))});default:throw{"unexpected message":t}}}function G(e,t,n){var r=P(e,n);return[{interpState:v.a(B(t,r)),delayState:d.b(n.time,r)},V(t,r)]}function M(e,t,n,r){if(null===n){var o=G(e,t,r[0]);return[o[0],[o[1]]]}for(var i=n.interpState,u=[],s=n.delayState,a=0;a<r.length;a++){var c=r[a],l=P(e,c),f=d.d(t.delay,s,c.time,l),h=v.b(t,i,B(t,f[1]));s=f[0],i=h[0],u=u.concat(h[1])}return[{delayState:s,interpState:i},u]}function C(e,t,n){if(null===t||e.delay.duration<0)return[null,[]];var r=d.c(e.delay,t.delayState,n),o=i()(r,2),u=o[0],s=o[1],a=v.b(e,t.interpState,B(e,s)),c=i()(a,2);return[{delayState:u,interpState:c[0]},c[1]]}function F(e,t,n,r){return[null,[]]}function P(e,t){return{x:t.x,y:t.y,pressure:t.pressure}}function V(e,t){return{alpha:e.flowPct*t.pressure,color:p.RgbLinear.Black,position:new b.h(t.x,t.y),rotation:0,scaledDiameter:e.diameterPx*t.pressure}}function B(e,t){return{alpha:e.flowPct*t.pressure,color:p.RgbLinear.Black,position:new b.h(t.x,t.y),pressure:t.pressure,rotation:0}}function D(e){var t=e.messageSender,n=e.tool;return Object(g.a)(Object(f.e)(h.detailsContainer,l.a,[Object(y.a)({label:"Size",value:n.diameterPx.toFixed(1)+"px",children:Object(m.a)({percentage:n.diameterPx/500,onChange:function(e){return t.setDiameter(500*e)}})}),Object(y.a)({label:"Softness",value:n.softness.toFixed(2),children:Object(m.a)({percentage:n.softness,onChange:t.setSoftness})}),Object(y.a)({label:"Flow",value:n.flowPct.toFixed(2),children:Object(m.a)({percentage:n.flowPct,onChange:t.setOpacity})}),Object(y.a)({label:"Spacing",value:n.spacingPct.toFixed(2)+"%",children:Object(m.a)({percentage:n.spacingPct,onChange:t.setSpacing})}),Object(_.a)({label:"Pressure-Opacity",children:Object(T.a)({checked:n.pressureAffectsOpacity,onCheck:t.setPressureAffectsOpacity})}),Object(_.a)({label:"Pressure-Size",children:Object(T.a)({checked:n.pressureAffectsSize,onCheck:t.setPressureAffectsSize})}),Object(y.a)({label:"Delay",value:n.delay.duration.toFixed(0)+"ms",children:Object(m.a)({percentage:n.delay.duration/500,onChange:function(e){return t.setDelay(500*e)}})})]))}},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(7),u=n.n(i),s=n(0),a=n.n(s),c=n(1),l=n(9),f=n(15),h=n(43),v=n(2),d=n(56),p=n(30),b=n(19),g=n(8),y=n(3),m=n(6),_=n.n(m),T=n(33),w=function(){function e(t,n,r){a()(this,e),this.__left=t,this.focus=n,this.__right=r}return _()(e,[{key:"getLeft",value:function(){return this.__left.reverse().toArray()}},{key:"getRight",value:function(){return this.__right.toArray()}},{key:"hasLeft",value:function(){return this.__left.isNonEmpty()}},{key:"hasRight",value:function(){return this.__right.isNonEmpty()}},{key:"focusLeft",value:function(){return this.__left.isNonEmpty()?new e(this.__left.tail,this.__left.head,this.__right.cons(this.focus)):this}},{key:"focusRight",value:function(){return this.__right.isNonEmpty()?new e(this.__left.cons(this.focus),this.__right.head,this.__right.tail):this}},{key:"focusf",value:function(e){if(e(this.focus))return this;for(var t=this;t.hasLeft();)if(e((t=t.focusLeft()).focus))return t;for(t=this;t.hasRight();)if(e((t=t.focusRight()).focus))return t;return this}},{key:"toArray",value:function(){for(var e=[],t=this.__left.reverse();t.isNonEmpty();)e.push(t.head),t=t.tail;for(e.push(this.focus),t=this.__right;t.isNonEmpty();)e.push(t.head),t=t.tail;return e}}],[{key:"singleton",value:function(t){return new e(T.a.empty(),t,T.a.empty())}},{key:"fromArray",value:function(t){return 0===t.length?null:e.unsafeFromArray(t)}},{key:"unsafeFromArray",value:function(t){for(var n=T.a.empty(),r=t.length-1;r>0;r--)n=n.cons(t[r]);return new e(T.a.empty(),t[0],n)}}]),e}(),x=n(62),R=n(63),O=n(16),E=n(26),I=n(64),A=n(32);function k(){}var j,S=Object(c.a)(function(e){var t=Object(x.a)(null),n=!1,r=k;function o(e){for(var n=Object(R.a)(t),r=e.target;null!==r.parentElement;){if(r===n)return;r=r.parentElement}u()}function i(){n=!0,Object(O.b)(e)}function u(){n=!1,Object(O.b)(e)}function s(e){r(e),u()}var a=Object(E.a)(e,function(e){if(e)return document.body.addEventListener("mousedown",o,{passive:!0}),function(){document.body.removeEventListener("mousedown",o)}});return function(e){a(n),r=e.onSelect;var o=Object(R.a)(t);return Object(f.a)(Object(h.a)(u),Object(I.a)(t,Object(v.e)(A.container,l.a,[Object(f.a)(Object(h.d)(n?u:i),Object(v.e)(n?A.selectedDisplayExpanded:A.selectedDisplay,l.a,e.show(e.choices.focus))),n?Object(v.e)(A.selectableOptions,{style:{"margin-top":null===o?l.a:"calc(-0.5rem - "+o.getBoundingClientRect().height+"px)"}},[Object(v.e)(l.a,l.a,e.choices.getLeft().map(function(t){return Object(f.a)(Object(h.c)(function(){return s(t)}),Object(v.e)(A.optionDefault,l.a,e.show(t)))})),Object(f.a)(Object(h.c)(u),Object(v.e)(A.optionSelected,l.a,e.show(e.choices.focus))),Object(v.e)(l.a,l.a,e.choices.getRight().map(function(t){return Object(f.a)(Object(h.c)(function(){return s(t)}),Object(v.e)(A.optionDefault,l.a,e.show(t)))}))]):null])))}}),L=n(51),G=n(4);!function(e){e[e.Default=0]="Default",e[e.DownOnInner=1]="DownOnInner",e[e.DownOnOuter=2]="DownOnOuter"}(j||(j={}));var M=(1-.55)/2;function C(){}var F=Object(c.a)(function(e){var t=Object(x.a)(null),n=Object(x.a)(null),r=null,o=j.Default,i=new g.Hsluv(0,0,0),u=y.a.Hsluv,s=C;function a(n){var r=Object(R.a)(t).getBoundingClientRect(),o=n.clientX-r.left-.5*r.width,a=n.clientY-r.top-.5*r.height,c=Math.atan2(a,o)/(2*Math.PI)+.5;switch(u){case y.a.Hsv:var l=g.rgbToHsv(i.toRgb());s(g.rgbToHsluv(l.with({h:c}).toRgb()));break;case y.a.Hsluv:s(i.with({h:360*c}))}Object(O.b)(e)}function c(n){var r=Object(R.a)(t).getBoundingClientRect(),o=r.width*M,a=r.height*M,c=r.width-2*o,l=r.height-2*a,f=P(n.clientX-r.left-o,0,c)/c,h=1-P(n.clientY-r.top-a,0,l)/l;switch(u){case y.a.Hsv:var v=g.rgbToHsv(i.toRgb()).h;s(g.rgbToHsluv(g.hsvToRgb(new g.Hsv(v,f,h))));break;case y.a.Hsluv:var d=i.h;s(new g.Hsluv(d,100*f,100*h))}Object(O.b)(e)}var d=Object(E.c)(e,function(){var t=Object(R.a)(n);if(null==t)throw{"canvas ref not fonud":n};return r=new B(t),Object(O.e)(function(){return Object(O.b)(e)}),function(){r&&r.dispose()}}),p=Object(E.c)(e,function(e){r&&r.render(e.colorMode,e.color)},function(e,t){return e.color.is(t.color)&&e.colorMode===t.colorMode}),b=Object(E.a)(e,function(){function e(e){o=j.Default}function t(e){switch(o){case j.Default:break;case j.DownOnInner:c(e);break;case j.DownOnOuter:a(e)}}return document.body.addEventListener("mouseup",e),document.body.addEventListener("mousemove",t,{passive:!0}),function(){document.body.removeEventListener("mouseup",e),document.body.removeEventListener("mousemove",t)}});function m(e){var n=Object(R.a)(t).getBoundingClientRect(),r=P(e.clientX-n.left,0,n.width),i=P(e.clientY-n.top,0,n.height),u=n.width*M,s=n.height*M;V(r,u,n.width-u)&&V(i,s,n.height-s)?(o=j.DownOnInner,c(e)):(o=j.DownOnOuter,a(e))}return function(e){b(),d(),p({colorMode:e.colorType,color:e.color}),i=e.color,u=e.colorType,s=e.onChange;var o=Object(R.a)(n),a=null===r?null:null===o?null:r.getThumbPositions(e.colorType,e.color,o.getBoundingClientRect());return Object(f.a)(Object(h.d)(m),Object(I.a)(t,Object(v.e)(L.container,l.a,Object(v.e)(l.a,l.a,[Object(I.a)(n,Object(v.d)(l.a,{width:160,height:160})),Object(v.e)(L.cicleThumb,null===a?l.a:{style:{left:a.circleThumbX+"px",top:a.circleThumbY+"px","background-color":e.color.toStyle(),"border-color":e.color.l>50?"black":"white",transform:"rotate("+a.angle+"deg)"}}),Object(v.e)(L.areaThumb,null===a?l.a:{style:{left:a.areaThumbX+"px",top:a.areaThumbY+"px","background-color":e.color.toStyle(),"border-color":e.color.l>50?"black":"white"}})]))))}});function P(e,t,n){return e<t?t:e>n?n:e}function V(e,t,n){return e>=t&&e<=n}var B=function(){function e(t){a()(this,e);var n=t.getContext("webgl");if(null===n)throw"Failed to init webgl";n.blendFunc(WebGLRenderingContext.ONE,WebGLRenderingContext.ONE_MINUS_SRC_ALPHA),n.enable(WebGLRenderingContext.BLEND),n.disable(WebGLRenderingContext.DEPTH_TEST),this.gl=n,this.ringRenderer=new U(n),this.satValRenderer=new K(n)}return _()(e,[{key:"render",value:function(e,t){this.gl.clearColor(0,0,0,0),this.gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.ringRenderer.render(e,t),this.satValRenderer.render(e,t)}},{key:"getThumbPositions",value:function(e,t,n){var r,o,i;if(e===y.a.Hsluv)r=(t.h+180)%360,o=t.s/100,i=t.l/100;else{var u=g.rgbToHsv(t.toRgb());r=(360*u.h+180)%360,o=u.s,i=u.v}var s=0,a=0;if(null!==n){var c=n.left+80,l=n.top+80,f=r*Math.PI/180;s=c+72*Math.cos(f),a=l+72*Math.sin(f)}var h=0,v=0;if(null!==n){var d=.225*n.width,p=.55*n.width;h=n.left+d+p*o,v=n.top+d+p*(1-i)}return{angle:r,circleThumbX:s,circleThumbY:a,areaThumbX:h,areaThumbY:v}}},{key:"dispose",value:function(){this.ringRenderer.dispose(),this.satValRenderer.dispose()}}]),e}(),D="\nprecision highp float;\n\nattribute vec2 a_position;\n\nvarying vec2 v_position;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n\n    v_position = a_position;\n}\n";function N(e){return"\n    precision highp float;\n    \n    ".concat(G.d,"\n\n    ").concat(e,"\n    \n    #define INNER_RAD1 0.83\n    #define INNER_RAD2 0.85\n    #define OUTER_RAD1 0.98\n    #define OUTER_RAD2 1.00\n    \n    varying vec2 v_position;\n    \n    uniform vec3 u_color;\n    \n    void main() {\n        vec2 pos = v_position * vec2(1.0, -1.0);\n        float dist = sqrt(dot(pos, pos));\n    \n        float a = smoothstep(INNER_RAD1, INNER_RAD2, dist) - smoothstep(OUTER_RAD1, OUTER_RAD2, dist);\n    \n        float radians = atan(pos.y, pos.x);\n        float hue = (radians / TAU) + 0.5;\n    \n        vec3 hsluv = vec3(hue, 1.0, a);\n    \n        gl_FragColor = vec4(toRgb(u_color, hsluv) * a, a);\n    }\n    ")}var z=N("\n".concat(G.g,"\n\nvec3 toRgb(vec3 color, vec3 xyz) {\n    return hsvToRgb(xyz * vec3(1.0, color.y, color.z));\n}\n")),H=N("\n".concat(G.f,"\n\nvec3 toRgb(vec3 color, vec3 xyz) {\n    return hsluvToRgb(xyz * vec3(360.0, color.y, color.z));\n}\n")),U=function(){function e(t){a()(this,e),this.gl=t,this.program=null,this.colorLocation=null,this.prevColorType=null,this.buffer=t.createBuffer(),t.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),t.bufferData(WebGLRenderingContext.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),WebGLRenderingContext.STATIC_DRAW)}return _()(e,[{key:"render",value:function(e,t){if(!this.program||this.prevColorType!==e){switch(this.program&&this.gl.deleteProgram(this.program),e){case y.a.Hsv:this.program=Object(G.i)(this.gl,D,z);break;case y.a.Hsluv:this.program=Object(G.i)(this.gl,D,H)}this.gl.bindAttribLocation(this.program,0,"a_position"),this.colorLocation=this.gl.getUniformLocation(this.program,"u_color"),this.prevColorType=e}switch(this.gl.useProgram(this.program),this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(0,2,WebGLRenderingContext.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(0),e){case y.a.Hsv:var n=g.rgbToHsv(g.hsluvToRgb(t));this.gl.uniform3f(this.colorLocation,n.h,n.s,n.v);break;case y.a.Hsluv:this.gl.uniform3f(this.colorLocation,t.h,t.s,t.l)}this.gl.drawArrays(WebGLRenderingContext.TRIANGLE_STRIP,0,4)}},{key:"dispose",value:function(){this.gl.deleteBuffer(this.buffer),this.gl.deleteProgram(this.program)}}]),e}(),W=.55,X="\nprecision highp float;\n\nattribute vec2 a_position;\n\nvarying vec2 v_tex_position;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n\n    v_tex_position = ((a_position / ".concat(W.toFixed(2),") + 1.0) / 2.0;\n}\n");function Y(e){return"\n    precision highp float;\n\n    ".concat(e,"\n    \n    varying vec2 v_tex_position;\n    \n    uniform vec3 u_color;\n    \n    void main() {\n        // mix saturation from left to right [0, 1]\n        // mix value from bottom to top: [0, 1]\n        float x = v_tex_position.x;\n        float y = v_tex_position.y;\n    \n        gl_FragColor = vec4(\n            toRgb(u_color.x, x, y),\n            1.0\n        );\n    }\n    ")}var q=Y("\n".concat(G.g,"\n\nvec3 toRgb(float hue, float x, float y) {\n    return hsvToRgb(vec3(hue, x, y));\n}\n")),Z=Y("\n".concat(G.f,"\n\nvec3 toRgb(float hue, float x, float y) {\n    return hsluvToRgb(vec3(hue, x * 100.0, y * 100.0));\n}\n")),K=function(){function e(t){a()(this,e),this.gl=t,this.colorLocation=null,this.program=null,this.prevColorMode=null,this.buffer=t.createBuffer(),t.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),t.bufferData(WebGLRenderingContext.ARRAY_BUFFER,new Float32Array([W,W,-W,W,W,-W,-W,W,W,-W,-W,-W]),WebGLRenderingContext.STATIC_DRAW)}return _()(e,[{key:"render",value:function(e,t){var n=this.gl;if(!this.program||this.prevColorMode!==e){switch(this.program&&n.deleteProgram(this.program),e){case y.a.Hsv:this.program=Object(G.i)(n,X,q);break;case y.a.Hsluv:this.program=Object(G.i)(n,X,Z);break;default:throw{"unexpected color mode":e}}n.bindAttribLocation(this.program,0,"a_position"),this.colorLocation=n.getUniformLocation(this.program,"u_color")}switch(n.useProgram(this.program),n.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),n.vertexAttribPointer(0,2,WebGLRenderingContext.FLOAT,!1,0,0),n.enableVertexAttribArray(0),e){case y.a.Hsv:var r=g.rgbToHsv(g.hsluvToRgb(t));this.gl.uniform3f(this.colorLocation,r.h,r.s,r.v);break;case y.a.Hsluv:this.gl.uniform3f(this.colorLocation,t.h,t.s,t.l)}n.drawArrays(WebGLRenderingContext.TRIANGLES,0,6),this.prevColorMode=e}},{key:"dispose",value:function(){var e=this.gl;e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}}]),e}(),J=n(11),Q=n(12),$=n(28),ee=n(29),te=n(52);function ne(e){return Object(f.a)(Object(h.c)(e.onClick),Object(v.e)(te.container,void 0,[Object(v.i)(te.secondary,{style:{"background-color":e.colorSecondary.toStyle()}}),Object(v.i)(te.primary,{style:{"background-color":e.color.toStyle()}})]))}var re,oe=n(20);n.d(t,"b",function(){return pe}),n.d(t,"d",function(){return be}),n.d(t,"c",function(){return ge}),n.d(t,"i",function(){return ye}),n.d(t,"e",function(){return me}),n.d(t,"f",function(){return _e}),n.d(t,"g",function(){return Te}),n.d(t,"h",function(){return we}),n.d(t,"a",function(){return Ee}),function(e){e[e.SetDiameterMsg=0]="SetDiameterMsg",e[e.SetSoftnessMsg=1]="SetSoftnessMsg",e[e.SetOpacityMsg=2]="SetOpacityMsg",e[e.SetColorMsg=3]="SetColorMsg",e[e.SetColorModeMsg=4]="SetColorModeMsg",e[e.SetSpacingMsg=5]="SetSpacingMsg",e[e.SetPressureAffectsOpacityMsg=6]="SetPressureAffectsOpacityMsg",e[e.SetPressureAffectsSizeMsg=7]="SetPressureAffectsSizeMsg",e[e.SwapColorMsg=8]="SwapColorMsg",e[e.SetDelayMsg=9]="SetDelayMsg"}(re||(re={}));var ie=function e(t){a()(this,e),this.diameterPx=t,this.type=re.SetDiameterMsg},ue=function e(t){a()(this,e),this.softnessPct=t,this.type=re.SetSoftnessMsg},se=function e(t){a()(this,e),this.opacityPct=t,this.type=re.SetOpacityMsg},ae=function e(t){a()(this,e),this.color=t,this.type=re.SetColorMsg},ce=function e(t){a()(this,e),this.mode=t,this.type=re.SetColorModeMsg},le=function e(t){a()(this,e),this.spacingPct=t,this.type=re.SetSpacingMsg},fe=function e(t){a()(this,e),this.pressureAffectsOpacity=t,this.type=re.SetPressureAffectsOpacityMsg},he=function e(t){a()(this,e),this.pressureAffectsSize=t,this.type=re.SetPressureAffectsSizeMsg},ve=function e(){a()(this,e),this.type=re.SwapColorMsg},de=function e(t){a()(this,e),this.delayMs=t,this.type=re.SetDelayMsg};function pe(e){return{setColor:function(t){return e(new ae(t))},setColorMode:function(t){return e(new ce(t))},setDelay:function(t){return e(new de(t))},setDiameter:function(t){return e(new ie(t))},setOpacity:function(t){return e(new se(t))},setSoftness:function(t){return e(new ue(t))},setSpacing:function(t){return e(new le(t))},setPressureAffectsOpacity:function(t){return e(new fe(t))},setPressureAffectsSize:function(t){return e(new he(t))},swapColorFrom:function(){return e(new ve)}}}function be(){return null}function ge(){return{diameterPx:15,softness:.4,flowPct:.3,colorMode:w.unsafeFromArray([y.a.Hsluv,y.a.Hsv]),color:new g.Hsluv(73,100,16),colorSecondary:new g.Hsluv(0,0,100),spacingPct:.05,pressureAffectsOpacity:!1,pressureAffectsSize:!0,delay:b.a(5)}}function ye(e,t){switch(t.type){case re.SetDiameterMsg:return u()({},e,{diameterPx:Object(y.m)(.1,500,t.diameterPx)});case re.SetSoftnessMsg:return u()({},e,{softness:Object(y.m)(0,1,t.softnessPct)});case re.SetOpacityMsg:return u()({},e,{flowPct:Object(y.m)(.01,1,t.opacityPct)});case re.SetColorMsg:return u()({},e,{color:t.color});case re.SetColorModeMsg:return u()({},e,{colorMode:e.colorMode.focusf(function(e){return e===t.mode})});case re.SetSpacingMsg:return u()({},e,{spacingPct:Object(y.m)(.01,1,t.spacingPct)});case re.SetPressureAffectsOpacityMsg:return u()({},e,{pressureAffectsOpacity:t.pressureAffectsOpacity});case re.SetPressureAffectsSizeMsg:return u()({},e,{pressureAffectsSize:t.pressureAffectsSize});case re.SwapColorMsg:return u()({},e,{color:e.colorSecondary,colorSecondary:e.color});case re.SetDelayMsg:return u()({},e,{delay:b.a(Object(y.m)(0,500,t.delayMs))});default:throw{"unexpected msg":t}}}function me(e,t,n){var r=xe(e,n);return[{interpState:p.a(Oe(t,r)),delayState:b.b(n.time,r)},Re(t,r)]}function _e(e,t,n,r){if(null===n){var o=me(e,t,r[0]);return[o[0],[o[1]]]}for(var i=n.interpState,u=[],s=n.delayState,a=0;a<r.length;a++){var c=r[a],l=xe(e,c),f=b.d(t.delay,s,c.time,l),h=p.b(t,i,Oe(t,f[1]));s=f[0],i=h[0],u=u.concat(h[1])}return[{delayState:s,interpState:i},u]}function Te(e,t,n){if(null===t)return[null,[]];var r=b.c(e.delay,t.delayState,n),i=o()(r,2),u=i[0],s=i[1],a=p.b(e,t.interpState,Oe(e,s)),c=o()(a,2);return[{delayState:u,interpState:c[0]},c[1]]}function we(e,t,n,r){return[null,[]]}function xe(e,t){return{x:t.x,y:t.y,pressure:t.pressure}}function Re(e,t){var n=e.flowPct*t.pressure;return{alpha:n,color:1===n?e.color.toRgb().toLinear():e.color.toRgb().toLinear().mix(1-n,g.RgbLinear.Black),position:new y.h(t.x,t.y),rotation:0,scaledDiameter:e.diameterPx*t.pressure}}function Oe(e,t){var n=e.flowPct*t.pressure;return{alpha:n,color:1===n?e.color.toRgb().toLinear():e.color.toRgb().toLinear().mix(1-n,g.RgbLinear.Black),position:new y.h(t.x,t.y),pressure:t.pressure,rotation:0}}var Ee=Object(c.a)(function(e){return function(e){var t=e.messageSender,n=e.tool;function r(e){var n=g.Rgb.fromCss(e);null!==n&&t.setColor(g.rgbToHsluv(n))}return Object(oe.a)(Object(v.e)(d.detailsContainer,l.a,[Object(v.e)(l.a,{style:{margin:"0.5rem 0"}},S({choices:n.colorMode,show:y.n,onSelect:t.setColorMode})),F({color:n.color,colorType:n.colorMode.focus,onChange:t.setColor}),Object(v.e)(l.a,{style:{margin:"0.5rem 0",width:"100%"}},ne({color:n.color,colorSecondary:n.colorSecondary,onClick:function(){return t.swapColorFrom(n.color)}})),Object(v.e)(l.a,{style:{margin:"0.5rem 0"}},Object(f.a)(Object(h.e)(function(e){return r(e.target.value)}),Object(f.a)(Object(h.b)(function(e){return r(e.target.value)}),Object(v.f)(d.textInput,{type:"text",style:{width:"100%"},value:Object(v.b)(n.color.toStyle())})))),Object(J.a)({label:"Size",value:n.diameterPx.toFixed(1)+"px",children:Object(Q.a)({percentage:n.diameterPx/500,onChange:function(e){return t.setDiameter(500*e)}})}),Object(J.a)({label:"Softness",value:n.softness.toFixed(2),children:Object(Q.a)({percentage:n.softness,onChange:t.setSoftness})}),Object(J.a)({label:"Flow",value:n.flowPct.toFixed(2),children:Object(Q.a)({percentage:n.flowPct,onChange:t.setOpacity})}),Object(J.a)({label:"Spacing",value:n.spacingPct.toFixed(2)+"%",children:Object(Q.a)({percentage:n.spacingPct,onChange:t.setSpacing})}),Ie({color:n.color,colorType:n.colorMode.focus,sender:t}),Object($.a)({label:"Pressure-Opacity",children:Object(ee.a)({checked:n.pressureAffectsOpacity,onCheck:t.setPressureAffectsOpacity})}),Object($.a)({label:"Pressure-Size",children:Object(ee.a)({checked:n.pressureAffectsSize,onCheck:t.setPressureAffectsSize})}),Object(J.a)({label:"Delay",value:n.delay.duration.toFixed(0)+"ms",children:Object(Q.a)({percentage:n.delay.duration/500,onChange:function(e){return t.setDelay(500*e)}})})]))}});function Ie(e){var t=e.sender,n=e.color;switch(e.colorType){case y.a.Hsluv:return function(e,t){return[Object(J.a)({label:"Hue",value:t.h.toFixed(2),children:Object(Q.a)({percentage:t.h/360,onChange:function(n){return e.setColor(t.with({h:360*n}))}})}),Object(J.a)({label:"Saturation",value:t.s.toFixed(2),children:Object(Q.a)({percentage:t.s/100,onChange:function(n){return e.setColor(t.with({s:100*n}))}})}),Object(J.a)({label:"Luminosity",value:t.l.toFixed(2),children:Object(Q.a)({percentage:t.l/100,onChange:function(n){return e.setColor(t.with({l:100*n}))}})})]}(t,n);case y.a.Hsv:return function(e,t){return[Object(J.a)({label:"Hue",value:t.h.toFixed(2),children:Object(Q.a)({percentage:t.h,onChange:function(n){return e.setColor(g.rgbToHsluv(t.with({h:n}).toRgb()))}})}),Object(J.a)({label:"Saturation",value:t.s.toFixed(2),children:Object(Q.a)({percentage:t.s,onChange:function(n){return e.setColor(g.rgbToHsluv(t.with({s:n}).toRgb()))}})}),Object(J.a)({label:"Value",value:t.v.toFixed(2),children:Object(Q.a)({percentage:t.v,onChange:function(n){return e.setColor(g.rgbToHsluv(t.with({v:n}).toRgb()))}})})]}(t,g.rgbToHsv(n.toRgb()))}}},function(e,t,n){"use strict";var r,o=n(69),i=n.n(o),u=n(70),s=n.n(u),a=n(71),c=n.n(a),l=n(5),f=n.n(l),h=n(0),v=n.n(h),d=n(6),p=n.n(d),b=function(e){function t(e,n,r,o,u){var a;return v()(this,t),(a=i()(this,s()(t).call(this))).a=e,a.b=n,a.c=r,a.d=o,a.value=u,a}return c()(t,e),p()(t,[{key:"asInt",value:function(){return this.force().asInt}},{key:"step",value:function(){return this.force().next}},{key:"display",value:function(){return"Xorshift 128 (".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,")")}},{key:"force",value:function(){if(null===this.value){var e=this.a,n=this.d;n^=n<<11,n^=n>>>8,n^=e,n^=e>>>19,this.value={asInt:n>>>0,next:new t(n,e,this.b,this.c,null)}}return this.value}}],[{key:"create",value:function(e){for(var n=new t(e,0,0,0,null),r=0;r<32;r++)n=n.step();return n}}]),t}(function(){function e(){v()(this,e)}return p()(e,[{key:"nextInt",value:function(){return[this.asInt(),this.step()]}},{key:"nextFloat",value:function(){return[this.asInt()/4294967295,this.step()]}},{key:"next2Floats",value:function(){var e=this.nextFloat(),t=f()(e,2),n=t[0],r=t[1].nextFloat(),o=f()(r,2);return[n,o[0],o[1]]}},{key:"next3Floats",value:function(){var e=this.nextFloat(),t=f()(e,2),n=t[0],r=t[1].nextFloat(),o=f()(r,2),i=o[0],u=o[1].nextFloat(),s=f()(u,2);return[n,i,s[0],s[1]]}}]),e}());!function(e){e.always=function(e){return function(t){return[e,t]}},e.bool=function(e){var t=e.nextFloat(),n=f()(t,2);return[n[0]<.5,n[1]]},e.int=function(e,t){return e|=0,t|=0,function(n){return function(e,t,n){var r=n.nextFloat(),o=f()(r,2),i=o[0],u=o[1];return[i*(t-e)+e,u]}(e,t,n)}},e.float=function(e,t){return function(n){return function(e,t,n){var r=n.nextFloat(),o=f()(r,2),i=o[0],u=o[1];return[i*(t-e)+e,u]}(e,t,n)}},e.t2=function(e,t){return function(n){return function(e,t,n){var r=e(n),o=f()(r,2),i=o[0],u=o[1],s=t(u),a=f()(s,2),c=a[0],l=a[1];return[[i,c],l]}(e,t,n)}},e.t3=function(e,t,n){return function(r){return function(e,t,n,r){var o=e(r),i=f()(o,2),u=i[0],s=i[1],a=t(s),c=f()(a,2),l=c[0],h=c[1],v=n(h),d=f()(v,2),p=d[0],b=d[1];return[[u,l,p],b]}(e,t,n,r)}},e.array=function(e,t){return function(n){return function(e,t,n){for(var r=new Array(e),o=0;o<e;o++){var i=t(n),u=f()(i,2),s=u[0],a=u[1];r[o]=s,n=a}return[r,n]}(e,t,n)}},e.object=function(e){return function(t){return function(e,t){var n={};for(var r in e){var o=e[r](t),i=f()(o,2),u=i[0],s=i[1];n[r]=u,t=s}return[n,t]}(e,t)}},e.map=function(e,t){return function(n){return function(e,t,n){var r=e(n),o=f()(r,2),i=o[0],u=o[1];return[t(i),u]}(e,t,n)}},e.map2=function(e,t,n){return function(r){return function(e,t,n,r){var o=e(r),i=f()(o,2),u=i[0],s=i[1],a=t(s),c=f()(a,2),l=c[0],h=c[1];return[n(u,l),h]}(e,t,n,r)}},e.map3=function(e,t,n,r){return function(o){return function(e,t,n,r,o){var i=e(o),u=f()(i,2),s=u[0],a=u[1],c=t(a),l=f()(c,2),h=l[0],v=l[1],d=n(v),p=f()(d,2),b=p[0],g=p[1];return[r(s,h,b),g]}(e,t,n,r,o)}},e.map4=function(e,t,n,r,o){return function(i){return function(e,t,n,r,o,i){var u=e(i),s=f()(u,2),a=s[0],c=s[1],l=t(c),h=f()(l,2),v=h[0],d=h[1],p=n(d),b=f()(p,2),g=b[0],y=b[1],m=r(y),_=f()(m,2),T=_[0],w=_[1];return[o(a,v,g,T),w]}(e,t,n,r,o,i)}},e.andThen=function(e,t){return function(n){return function(e,t,n){var r=e(n),o=f()(r,2),i=o[0],u=o[1];return t(i)(u)}(e,t,n)}},e.lazy=function(e){var t=null;return function(n){return null===t&&(t=e()),t(n)}}}(r||(r={})),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return r})},function(e,t,n){e.exports={layersWrapper:"layers-view__layersWrapper--3ZfQn",layersListWrapper:"layers-view__layersListWrapper--1Tkb_",layersControlsWrapper:"layers-view__layersControlsWrapper--2yZCW",unselectedLayerWrapper:"layers-view__unselectedLayerWrapper--CJqHx",selectedLayerWrapper:"layers-view__selectedLayerWrapper--1aNDA",layerLeft:"layers-view__layerLeft--3IVhD",layerRight:"layers-view__layerRight--3aI8m",layerName:"layers-view__layerName--15uDf",layerOpacity:"layers-view__layerOpacity--3odsZ"}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l});var r=n(27),o=n(16);function i(t,n,i){if("ssr"===e.env.IVI_TARGET)return e=>n(e,void 0);let u,s,a=0;const c=t.s.s,l=e=>e===r.b?null!==c&&!0===c(r.b)||void 0!==u&&(e=n(s,u),a=Object(o.a)(),u!==e)&&(u=e,!0):(void 0===u||s===e||void 0!==i&&!0===i(s,e)||(u=void 0),(void 0===u||a<Object(o.a)())&&(u=n(e,u)),s=e,u);return t.s.s=l,l}function u(t,n){if("ssr"!==e.env.IVI_TARGET){t.f|=32768;const e=t.s;e.u=function(e,t){return null===e?t:"function"==typeof e?[e,t]:(e.push(t),e)}(e.u,n)}}function s(e){return(t,n,o)=>{let i,s=r.a;const a=c=>{c===r.c||c===r.d?(void 0!==i&&i(),c!==r.d&&void 0!==(i=n(s))&&void 0!==t&&(u(t,a),t=void 0)):s!==r.a&&(s===c||void 0!==o&&!0===o(s,c))||(s=c,e(a))};return a}}const a="ssr"===e.env.IVI_TARGET?e=>{}:s(e=>{e(r.c)}),c="ssr"===e.env.IVI_TARGET?e=>{}:s(o.f),l="ssr"===e.env.IVI_TARGET?e=>{}:s(o.d)}).call(this,n(35))},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return u});const r={},o={},i={},u={}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(9),o=n(2),i=n(57);function u(e){var t=e.label,n=e.children;return Object(o.e)(i.container,r.a,[Object(o.e)(i.label,r.a,t),n])}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(15),o=n(43),i=n(2),u=n(34);function s(e){return Object(r.a)(Object(o.c)(function(){e.onCheck(!e.checked)}),Object(i.i)(u.xswitch,void 0,[Object(i.i)(u.switchButtonContainer,{style:{transform:e.checked?"translate(0.75rem, -0.125rem)":"translate(0, -0.125rem)"}},Object(i.i)(u.switchButton+" "+(e.checked?u.bgColorPrimary:u.bgColorSecondary))),Object(i.i)(u.switchBar)]))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(3);function o(e){return{prevPoint:e}}function i(e,t,n){if(null===t)return[{prevPoint:n},[{alpha:n.alpha,color:n.color,position:n.position,rotation:n.rotation,scaledDiameter:e.diameterPx*n.pressure}]];var o=t.prevPoint,i=function(e,t,n){var o=[],i=n.position.x,u=n.position.y,s=n.pressure,a=Math.max(e*s,.05),c=t.position.x,l=t.position.y,f=t.pressure,h=Object(r.p)(c,l,i,u),v=h,d=.5,p=c,b=l,g=f;for(;v>a&&d>0;)c+=(d=e*f/v)*(i-c),l+=d*(u-l),f+=d*(s-f),v=Object(r.p)(c,l,i,u),c===p&&l===b&&f===g||(o.push(1-v/h),p=c,b=l,g=f);return o}(e.spacingPct*e.diameterPx,o,n);if(0===i.length)return[t,[]];for(var u=o.pressure===n.pressure,s=o.alpha===n.alpha,a=o.color.is(n.color),c=o.rotation===n.rotation,l=i.length,f=new Array(l),h=0;h<l;h++){var v=i[h],d=s?o.alpha:Object(r.q)(v,o.alpha,n.alpha),p=a?o.color:o.color.mix(v,n.color),b=r.h.lerp(v,o.position,n.position),g=e.diameterPx*(u?o.pressure:Object(r.q)(v,o.pressure,n.pressure)),y=c?o.rotation:Object(r.q)(v,o.rotation,n.rotation);f[h]={alpha:d,color:p,position:b,scaledDiameter:g,rotation:y}}var m=f[i.length-1];return[{prevPoint:{alpha:m.alpha,color:m.color,position:m.position,pressure:Object(r.q)(i[i.length-1],o.pressure,n.pressure),rotation:m.rotation}},f]}},function(e,t,n){"use strict";var r=n(27),o=n(10);const i="http://www.w3.org/2000/svg";var u=n(49),s=n(17);let a,c;function l(){a=null,c=0}function f(e,t){let n=t(e);if(0!==n)return 1&n;const{f:r,c:o}=e;if(0!=(136&r)){for(n=0;n<o.length;n++)if(null!==(e=o[n])&&0!=(1&f(e,t)))return 1}else if(null!==o)return f(o,t);return 0}function h(e){let t,n=e.f;if(0==(3&n)){if(e=e.c,0!=(136&n)){for(n=0;n<e.length;n++)if(null!==(t=e[n]))return h(t);return null}return null===e?null:h(e)}return e.s}function v(e,t,n,i){const u=t.f;let l,f,p,b;if(0!=(256&u))l=t.s,0!=(1024&u)||null!==l.s&&!0===l.s(r.b)?t.c=y(e,t.c,l.r(t.o.v),n,i):0!=(65536&u)?v(e,t.c,n,i):!0===n?d(e,t):a=h(t),t.f=64511&t.f|c,c|=(49152&t.f)<<2;else if(0!=(65536&u)){if(f=t.c,0!=(2&u))l=t.s,!0===n&&o.g.call(e,l,a),a=null,v(l,f,!1,!0),a=l;else if(0!=(136&u)){for(b=0,p=f.length;p>0;)null!==(l=f[--p])&&(v(e,l,n,!1),b|=c,c=0);c=b}else 0!=(20&u)?v(e,f,n,i):(l=Object(s.d)(t.s),v(e,f,n,i),Object(s.d)(l));t.f=64511&u|c}else!0===n?d(e,t):a=h(t),c=196608&u}function d(e,t){const n=t.f;let r,i,u;if(0!=(3&n))i=t.s,o.g.call(e,i,a),a=i;else if(r=t.c,0!=(136&n))for(u=r.length;u>0;)null!==(i=r[--u])&&d(e,i);else null!==r&&d(e,r)}function p(e,t,n){!function e(t,n,r){let i,u=n.f;if(0!=(3&u))o.h.call(t,n.s);else if(n=n.c,0!=(136&u))if(!0===r)o.i.call(t,"");else for(u=0;u<n.length;++u)null!==(i=n[u])&&e(t,i,!1);else null!==n&&e(t,n,r)}(e,t,n),function e(t){const n=t.f;let o,i,u;if(0!=(131072&n)&&null!==(o=t.c))if(0!=(136&n))for(i=0;i<o.length;i++)null!==(u=o[i])&&e(u);else e(o);if(0!=(32768&n)&&null!==(u=t.s.u))if("function"==typeof u)u(r.d);else for(i=0;i<u.length;i++)u[i](r.d)}(t)}function b(e,t){const{t:n,v:r,n:u}=t,s=0!=(512&n.f);if(void 0===e){const t=n.d;e=s?o.a.createElementNS(i,t):o.a.createElement(t)}return u&&m(e,u,s),void 0!==r&&_(e,void 0,r,s),e}function g(e,t){if(null!==t){const n=Object(u.a)(t);return"object"==typeof t?t instanceof Array?function(e,t,n){let r=n.length,o=0;const i=Array(r);for(;r>0;)i[--r]=g(e,n[r]),o|=c,c=0;c=o,t.c=i,t.f=128|o}(e,n,t):function(e,t,n){const r=n.t,i=r.f;let u,l,f,h,v;if(0!=(4&i))0!=(256&i)?(t.s=u={r:null,s:null,u:null},u.r=l=r.d.c(t)):l=r.d.c,t.c=g(e,l(n.v)),t.f|=i|c,c|=(49152&t.f)<<2;else{if(0!=(2&i))l=r.d,0!=(64&i)&&(null===(f=l.n)&&(l.n=f=b(void 0,l.p)),f=o.f.call(f,!1)),t.s=f=b(f,n),u=a,null!==(l=n.c)&&(a=null,t.c=g(f,l)),a=f,o.g.call(e,f,u);else if(0!=(48&i))0!=(32&i)?(t.s=u=0!=(8192&i)?Object(s.d)(n.v):Object(s.b)(r.d,n.v),t.c=g(e,n.c),Object(s.d)(u)):t.c=g(e,n.c);else{for(v=0,h=(f=n.v).length,t.c=l=Array(h);h>0;)l[--h]=g(e,f[h].v),v|=c,c=0;c=v}t.f=i|c}}(e,n,t):function(e,t,n){const r=o.a.createTextNode(n);o.g.call(e,r,a),a=r,t.s=r,t.f=1}(e,n,t),n}return null}function y(e,t,n,r,i){if(null===n)return null!==t&&p(e,t,i),null;if(null===t)return g(e,n);const{f:u,o:l,s:f}=t;if(0!=(1&u)){if("object"==typeof n)return o.h.call(e,f),g(e,n);t.o=n,l!==n&&(f.nodeValue=n),!0===r&&o.g.call(e,f,a),a=f}else{if(l===n)return v(e,t,r,i),t;if(0!=(128&u)?!(n instanceof Array):n instanceof Array||l.t!==n.t)return p(e,t,i),g(e,n);t.o=n;const h=t.c;let d,b,T,w,x;if(0!=(4&u))d=l.v,b=n.v,T=n.t.d,d===b||void 0!==T.e&&!0===T.e(d,b)?v(e,t,r,i):(t.c=y(e,h,0!=(256&u)?f.r(b):T.c(b),r,i),t.f=64511&t.f|c,c|=(49152&t.f)<<2);else{if(0!=(2&u))w=0!=(512&u),!0===r&&o.g.call(e,f,a),T=n.n,l.n!==T&&(void 0===T&&(T=""),m(f,T,w)),T=n.v,l.v!==T&&_(f,l.v,T,w),a=null,t.c=y(f,h,n.c,!1,!0),a=f;else if(0!=(136&u))if(0!=(128&u))if(0===(w=n.length))p(e,t,i);else{if(x=0,w!==(d=h.length)){for(t.c=T=Array(w);d>w;)null!==(b=h[--d])&&p(e,b,!1);for(;w>d;)T[--w]=g(e,n[w]),x|=c,c=0}else T=h;for(;w>0;)T[--w]=y(e,h[w],n[w],r,!1),x|=c,c=0;c=x}else!function(e,t,n,r,o,i){let u=r.length,s=n.length,a=0;const l=Array(u);if(0===u)s>0&&p(e,t,i);else if(0===s)for(;u>0;)l[--u]=g(e,r[u].v),a|=c,c=0;else{const f=t.c;let h=s-1,v=u-1,d=0,b=r[v];e:for(;;){for(;n[h].k===b.k;){if(l[v]=y(e,f[h--],b.v,o,!1),a|=c,c=0,d>--v||d>h)break e;b=r[v]}for(;n[d].k===r[d].k&&++d<=h&&d<=v;);break}if(d>h)for(;v>=d;)l[v]=g(e,r[v--].v),a|=c,c=0;else if(d>v){u=d;do{null!==(b=f[u++])&&p(e,b,!1)}while(u<=h)}else{let m=0,_=0;const T=h-d+1,w=v-d+1,x=Array(w),R=new Map;for(u=0;u<w;++u)s=u+d,x[u]=-1,R.set(r[s].k,s);for(u=d;u<=h&&_<w;++u)void 0!==(s=R.get(n[u].k))&&(m=m<s?s:99999999,++_,x[s-d]=u,l[s]=f[u],f[u]=null);if(T===n.length&&0===_)for(p(e,t,i);v>=0;)l[v]=g(e,r[v--].v),a|=c,c=0;else{for(u=d;u<=h;u++)null!==(b=f[u])&&p(e,b,!1);if(u=w,!0===o||99999999!==m)for(;u>0;)m=--u+d,b=r[m].v,l[m]=-1===x[u]?g(e,b):y(e,l[m],b,o,!1),a|=c,c=0;else{const t=function(e){const t=e.slice(),n=[];let r,o,i,u=0,s=0;for(n[0]=0;s<e.length;++s){const a=e[s];if(a>-1)if(i=n[u],e[i]<a)t[s]=i,n[++u]=s;else{for(r=0,o=u;r<o;)e[n[i=r+o>>1]]<a?r=i+1:o=i;a<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}o=n[u];for(;u>=0;)n[u--]=o,o=t[o];return n}(x);for(s=t.length-1;u>0;)m=--u+d,b=r[m].v,-1===x[u]?l[m]=g(e,b):(s<0||u!==t[s]?o=!0:--s,l[m]=y(e,l[m],b,o,!1),o=!1),a|=c,c=0}}}for(;d>0;)l[--d]=y(e,f[d],r[d].v,o,!1),a|=c,c=0}t.c=l,c=a}(e,t,l.v,n.v,r,i);else 0!=(16&u)?t.c=y(e,h,n.c,r,i):(b=n.v,0!=(8192&u)?t.s=b:f.v=b,T=Object(s.d)(t.s),t.c=y(e,h,n.c,r,i),Object(s.d)(T));t.f=64511&u|c}}return t}function m(e,t,n){!0===n?o.c.call(e,"class",t):o.d.call(e,t)}function _(e,t,n,r){let i;if(void 0===t)for(i in n)T(e,i,void 0,n[i],r);else if(void 0===n)for(i in t)T(e,i,t[i],void 0,r);else{let u=0,s=0;for(i in t)T(e,i,t[i],!0===o.j.call(n,i)?(u++,n[i]):void 0,r);const a=Object.keys(n);for(;u<a.length&&s<a.length;++s)i=a[s],!1===o.j.call(t,i)&&(T(e,i,void 0,n[i],r),++u)}}function T(e,t,n,r,i){"style"!==t?"object"==typeof r?r.u(e,t,void 0===n?void 0:n.v,r.v):"object"==typeof n?n.u(e,t,n.v,void 0):n!==r&&("boolean"==typeof r&&(r=r?"":void 0),void 0===r?void 0!==n&&!1!==n&&o.b.call(e,t):o.c.call(e,t,r)):n!==r&&function(e,t,n,r){const i=!0===r?o.k.call(e):o.e.call(e);let u,s;if(void 0===t)for(u in n)void 0!==(s=n[u])&&i.setProperty(u,s);else if(void 0===n)for(u in t)void 0!==t[u]&&i.removeProperty(u);else{let e=0,r=0;for(u in t)t[u]!==(s=!0===o.j.call(n,u)?(e++,n[u]):void 0)&&(void 0!==s?i.setProperty(u,s):i.removeProperty(u));const a=Object.keys(n);for(;e<a.length&&r<a.length;++r)u=a[r],!1===o.j.call(t,u)&&(s=n[u],++e,void 0!==s&&i.setProperty(u,n[u]))}}(e,n,r,i)}n.d(t,"b",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return y})},function(e,t,n){e.exports={container:"views-menu__container--2nhom",selectedDisplay:"views-menu__selectedDisplay--GVpTm",selectedDisplayExpanded:"views-menu__selectedDisplayExpanded--2rS_4",selectableOptions:"views-menu__selectableOptions--3CT9b",optionDefault:"views-menu__optionDefault--Ra-YW",optionSelected:"views-menu__optionSelected--3gQmu"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,o=n(0),i=n.n(o),u=n(6),s=n.n(u);!function(e){var t=function(){function e(){i()(this,e)}return s()(e,[{key:"isEmpty",value:function(){return!0}},{key:"isNonEmpty",value:function(){return!1}},{key:"cons",value:function(e){return new n(e,this)}},{key:"foldl",value:function(e,t){return t}},{key:"reverse",value:function(){return this}},{key:"toArray",value:function(){return[]}},{key:"toString",value:function(){return"()"}}]),e}();e.Empty=t;var n=function(){function e(t,n){i()(this,e),this.head=t,this.tail=n}return s()(e,[{key:"isEmpty",value:function(){return!1}},{key:"isNonEmpty",value:function(){return!0}},{key:"cons",value:function(t){return new e(t,this)}},{key:"foldl",value:function(e,t){for(var n=this,r=t;n.isNonEmpty();)r=e(r,n.head),n=n.tail;return r}},{key:"reverse",value:function(){for(var t=this.tail,n=e.of(this.head);t.isNonEmpty();)n=n.cons(t.head),t=t.tail;return n}},{key:"toArray",value:function(){for(var e=[this.head],t=this.tail;t.isNonEmpty();)e.push(t.head),t=t.tail;return e}},{key:"toString",value:function(){for(var e="("+this.head,t=this.tail;t.isNonEmpty();)e=e+", "+t.head,t=t.tail;return e+")"}}],[{key:"of",value:function(t){return new e(t,r())}}]),e}();function r(){return new t}e.NonEmpty=n,e.empty=r,e.fromArray=function(e){for(var t=r(),n=e.length;n--;)t=t.cons(e[n]);return t}}(r||(r={}))},function(e,t,n){e.exports={xswitch:"views-switch__xswitch--ca3kq",switchButtonContainer:"views-switch__switchButtonContainer--26j0i",switchButton:"views-switch__switchButton--3PW3L",bgColorPrimary:"views-switch__bgColorPrimary--2HWWs",bgColorSecondary:"views-switch__bgColorSecondary--TM4-n",switchBar:"views-switch__switchBar--3G205"}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var a,c=[],l=!1,f=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):f=-1,c.length&&v())}function v(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(v)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return u});var r=n(31);const o=[],i=e=>o.find(e);function u(){for(let e=0;e<o.length;++e){const t=o[e],{container:n,state:i,next:u}=t;Object(r.b)(),void 0!==u?(t.next=void 0,t.state=Object(r.c)(n,i,u,!1,!0)):null!==i&&Object(r.a)(n,i,!1,!0)}}},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return h});var r=n(8),o=n(23),i={"--color-primary":function(e){return e.color.primary.toStyle()},"--color-primaryLight":function(e){return e.color.primaryLight.toStyle()},"--color-primaryDark":function(e){return e.color.primaryDark.toStyle()},"--color-secondary":function(e){return e.color.secondary.toStyle()},"--color-secondaryLight":function(e){return e.color.secondaryLight.toStyle()},"--color-secondaryDark":function(e){return e.color.secondaryDark.toStyle()},"--color-onPrimary":function(e){return e.color.onPrimary.toStyle()},"--color-onSecondary":function(e){return e.color.onSecondary.toStyle()},"--color-onSurface":function(e){return e.color.onSurface.toStyle()},"--color-surface":function(e){return e.color.surface.toStyle()},"--color-background":function(e){return e.color.background.toStyle()},"--shadows-button":function(e){return e.shadows.button},"--shadows-menu":function(e){return e.shadows.menu},"--shadows-surface":function(e){return e.shadows.surface},"--fonts-monospace":function(e){return e.fonts.monospace},"--fonts-normal":function(e){return e.fonts.normal}};function u(e,t){for(var n in i)if(i.hasOwnProperty(n)){var r=i[n],o=r(e),u=r(t);o!==u&&document.body.style.setProperty(n,u)}}function s(e){for(var t in i)if(i.hasOwnProperty(t)){var n=i[t];document.body.style.setProperty(t,n(e))}}var a=function(e,t){return o.a.map3(o.a.float(0,360),o.a.float(0,e),o.a.always(t),function(e,t,n){return new r.Hsluv(e,t,n)})},c=o.a.object({primary:a(100,80),primaryLight:a(100,80),primaryDark:a(100,80),secondary:a(100,77),secondaryLight:a(100,77),secondaryDark:a(100,77),background:a(20,46),surface:a(35,38),onPrimary:a(100,0),onSecondary:a(100,0),onSurface:a(100,100)}),l=o.a.always({button:"0 1px 5px 0 rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12)",surface:"0 1px 5px 0 rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12)",menu:"2px 2px 2px rgba(0, 0, 0, 0.45), 0 5px 8px 0 rgba(0, 0, 0, 0.3)"}),f=o.a.always({normal:'"Helvetica", "Arial", sans-serif',monospace:'"Courier New", Courier, monospace'}),h=o.a.object({color:c,shadows:l,fonts:f})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u});n(49),n(17),n(39);let r="",o="";function i(e){r+=` ${e}`}function u(e){o+=e}},function(e,t,n){"use strict";function r(e){if("string"==typeof e){if(-1===e.indexOf("&")&&-1===e.indexOf("<"))return e;let t=e,n=0,r=0;for(;r<e.length;++r){let o;switch(e.charCodeAt(r)){case 38:o="&amp;";break;case 60:o="&lt;";break;default:continue}r>n&&(o=e.slice(n,r)+o),t=n>0?t+o:o,n=r+1}return r!==n?t+e.slice(n,r):t}return e.toString()}function o(e){if("string"==typeof e){if(-1===e.indexOf('"')&&-1===e.indexOf("&"))return e;let t=e,n=0,r=0;for(;r<e.length;++r){let o;switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;default:continue}r>n&&(o=e.slice(n,r)+o),t=n>0?t+o:o,n=r+1}return r!==n?t+e.slice(n,r):t}return e.toString()}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){e.exports={container:"views-labeled__container--LxxXR",label:"views-labeled__label--3QcRA",content:"views-labeled__content--3Aqxf",textContainer:"views-labeled__textContainer--20WmP"}},function(e,t,n){e.exports={container:"views-slider__container--1iRqF",baseLine:"views-slider__baseLine--LIh9H",filledLineClass:"views-slider__filledLineClass--3Zx18",emptyButton:"views-slider__emptyButton--ql0yq",button:"views-slider__button--2AbV7"}},function(e,t,n){"use strict";var r,o=n(6),i=n.n(o),u=n(55),s=n.n(u),a=n(7),c=n.n(a),l=n(0),f=n.n(l),h=n(5),v=n.n(h),d=n(3),p=n(33),b=function(){function e(t,n,r,o){f()(this,e),this.id=t,this.name=n,this.opacity=r,this.isHidden=o}return i()(e,[{key:"with",value:function(t){var n=Object(d.r)(t.name,this.name),r=Object(d.r)(t.opacity,this.opacity),o=Object(d.r)(t.isHidden,this.isHidden);return new e(this.id,n,r,o)}},{key:"isLeaf",get:function(){return!0}}],[{key:"init",value:function(t){return new e(t,"",1,!1)}}]),e}(),g=function(){function e(t,n,r,o,i){f()(this,e),this.id=t,this.name=n,this.opacity=r,this.isHidden=o,this.children=i}return i()(e,[{key:"with",value:function(t){return new e(this.id,Object(d.r)(t.name,this.name),Object(d.r)(t.opacity,this.opacity),Object(d.r)(t.isHidden,this.isHidden),this.children)}},{key:"withChildren",value:function(t){return new e(this.id,this.name,this.opacity,this.isHidden,t)}},{key:"get",value:function(e){var t=e.head,n=this.children[t];if(e.tail.isNonEmpty()){if(n.isLeaf)throw"Invariant violation";return n.get(e.tail)}return n}},{key:"getWithContext",value:function(e,t){var n=e.head,r=this.children[n];if(e.tail.isNonEmpty()){if(r.isLeaf)throw"Invariant violation";return r.getWithContext(e.tail,this.isHidden?0:t*this.opacity)}return{id:r.id,name:r.name,opacity:r.isHidden?0:t*r.opacity}}},{key:"findPath",value:function(e){for(var t=this.children,n=0;n<this.children.length;n++){var r=t[n];if(r.isLeaf){if(r.id===e)return p.a.empty().cons(n)}else{var o=r.findPath(e);if(null!==o)return o.cons(n)}}return null}},{key:"insert",value:function(e,t){var n=e.head,r=this.children[n];if(e.tail.isNonEmpty()){if(r.isLeaf)throw"Invariant violation";var o=r.insert(e.tail,t),i=Object(d.l)(this.children,n,o);return this.withChildren(i)}return this.withChildren(Object(d.j)(this.children,n,t))}},{key:"remove",value:function(e){var t=e.head,n=this.children[t];if(e.tail.isNonEmpty()){if(n.isLeaf)throw"Invariant violation";var r=n.remove(e.tail),o=v()(r,2),i=o[0],u=o[1],s=Object(d.l)(this.children,t,i);return[this.withChildren(s),u.cons(t)]}var a=this.withChildren(Object(d.k)(this.children,t));if(0===a.children.length)return[a,p.a.empty()];var c=this.children.length===t+1?t-1:t;return[a,t===c?e:p.a.NonEmpty.of(c)]}},{key:"update",value:function(e,t){var n=e.head,r=this.children[n];if(e.tail.isNonEmpty()){if(r.isLeaf)throw"Invariant violation";var o=r.update(e.tail,t),i=Object(d.l)(this.children,n,o);return this.withChildren(i)}var u=t(r),s=Object(d.l)(this.children,n,u);return this.withChildren(s)}},{key:"collectLeaves",value:function(e,t){for(var n=this.children,r=0;r<n.length;r++){var o=n[r],i=o.isHidden?0:t*o.opacity;o.isLeaf?e.push({id:o.id,name:o.name,opacity:i}):o.collectLeaves(e,i)}}},{key:"isLeaf",get:function(){return!1}}],[{key:"init",value:function(t){return new e(t,"",1,!1,[])}}]),e}();!function(e){e[e.NewLayerMsg=0]="NewLayerMsg",e[e.RemoveMsg=1]="RemoveMsg",e[e.SelectMsg=2]="SelectMsg",e[e.SetOpacityMsg=3]="SetOpacityMsg",e[e.SetHiddenMsg=4]="SetHiddenMsg"}(r||(r={}));var y=function e(t){f()(this,e),this.id=t,this.type=r.NewLayerMsg},m=function e(t){f()(this,e),this.id=t,this.type=r.RemoveMsg},_=function e(t){f()(this,e),this.id=t,this.type=r.SelectMsg},T=function e(t,n){f()(this,e),this.id=t,this.opacity=n,this.type=r.SetOpacityMsg},w=function e(t,n){f()(this,e),this.id=t,this.isHidden=n,this.type=r.SetHiddenMsg};function x(e){return{newLayer:function(t){return e(new y(t))},removeLayer:function(t){return e(new m(t))},selectLayer:function(t){return e(new _(t))},setOpacity:function(t,n){return e(new T(t,n))},setHidden:function(t,n){return e(new w(t,n))}}}var R=function(){function e(t,n,r){f()(this,e),this.getNextLayerId=t,this.layers=n,this.selectedPath=r}return i()(e,[{key:"current",value:function(){return this.layers.get(this.selectedPath)}},{key:"update",value:function(e){switch(e.type){case r.NewLayerMsg:return this.current().id===e.id?this.newLayer():this;case r.RemoveMsg:return this.current().id===e.id?this.removeCurrent():this;case r.SelectMsg:return this.current().id===e.id?this:this.select(e.id);case r.SetOpacityMsg:var t=e.id,n=e.opacity;return this.current().id===t?this.updateCurrent(function(e){return e.with({opacity:n})}):this;case r.SetHiddenMsg:var o=e.id,i=e.isHidden;return this.current().id===o?this.updateCurrent(function(e){return e.with({isHidden:i})}):this;default:throw{"unexpected msg":e}}}},{key:"split",value:function(){for(var e=this.layers.children,t=this.selectedPath.head,n=[],r=[],o=0;o<t;o++){var i=e[o];i.isLeaf?n.push({id:i.id,name:i.name,opacity:1*i.opacity}):i.collectLeaves(n,1)}for(var u=this.selectedPath.head+1;u<e.length;u++){var s=e[u];s.isLeaf?r.push({id:s.id,name:s.name,opacity:1*s.opacity}):s.collectLeaves(r,1)}var a=this.layers.get(this.selectedPath);return a.isLeaf?{above:n,current:this.layers.getWithContext(this.selectedPath,1),below:r}:(a.collectLeaves(r,1),{above:n,current:null,below:r})}},{key:"select",value:function(t){var n=this.layers.findPath(t);return null===n?this:new e(this.getNextLayerId,this.layers,n)}},{key:"newLayer",value:function(){var t=this.layers.insert(this.selectedPath,b.init(this.getNextLayerId()));return new e(this.getNextLayerId,t,this.selectedPath)}},{key:"removeCurrent",value:function(){var t=this.layers.remove(this.selectedPath),n=v()(t,2),r=n[0],o=n[1];if(o.isNonEmpty())return new e(this.getNextLayerId,r,o);var i=this.selectedPath.head,u=r.children.length<=i?i:i-1;return new e(this.getNextLayerId,r,p.a.NonEmpty.of(u))}},{key:"updateCurrent",value:function(t){return new e(this.getNextLayerId,this.layers.update(this.selectedPath,t),this.selectedPath)}}],[{key:"init",value:function(){var t,n=(t=1,function(){return t++}),r=b.init(n()),o=g.init(n()).withChildren([r]);return new e(n,o,p.a.empty().cons(0))}}]),e}(),O=n(13),E=n(23),I=n(37),A=n(4),k="\nprecision highp float;\n\n".concat(A.e,"\n\nvarying vec2 v_tex_coords;\n\nuniform sampler2D u_texture;\n\nvoid main() {\n    vec4 pixel = texture2D(u_texture, v_tex_coords);\n    gl_FragColor = vec4(from_linear(pixel.rgb), pixel.a);\n}\n"),j=new A.b([{name:"a_position",size:2,type:A.a.Float}]),S={u_resolution:A.h.F2,u_texture:A.h.I1},L=function(){function e(t,n,r){f()(this,e),this.program=n,this.locations=r,this.capacity=1024,this.buffer=t.createBuffer(),this.array=new Float32Array(6*j.size*this.capacity)}return i()(e,[{key:"render",value:function(e,t){var n=A.c.factorsNormal,r=n.sfact,o=n.dfact;e.blendFunc(r,o),e.useProgram(this.program),e.bindFramebuffer(e.FRAMEBUFFER,null),this.capacity<t.blocks.length&&(this.capacity=t.blocks.length,this.array=new Float32Array(6*j.size*this.capacity));for(var i=this.array,u=0,s=0;s<t.blocks.length;s++){var a=t.blocks[s],c=a.x0,l=a.y0,f=a.x1,h=a.y1;i[u++]=c,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=f,i[u++]=h}e.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),e.bufferData(WebGLRenderingContext.ARRAY_BUFFER,i,WebGLRenderingContext.DYNAMIC_DRAW),A.k(e,this.locations,t.uniforms),j.vertexAttrib(e),e.drawArrays(WebGLRenderingContext.TRIANGLES,0,6*t.blocks.length)}},{key:"dispose",value:function(e){e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}}],[{key:"create",value:function(t){var n=A.i(t,"\nprecision highp float;\n\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_tex_coords;\n\nvoid main() {\n    vec2 pos = a_position / u_resolution;\n    pos.y = 1.0 - pos.y;\n    v_tex_coords = pos;\n    pos = pos * 2.0;\n    pos = pos - 1.0;\n    gl_Position = vec4(pos, 0.0, 1.0);\n    \n}\n",k);if(null===n)return null;var r=A.j(t,n,S);return null===r?null:(j.bindAttribLocations(t,n),new e(t,n,r))}}]),e}(),G=new A.b([{name:"a_position",size:2,type:A.a.Float}]),M={u_softness:A.h.F1},C=function(){function e(t,n,r){f()(this,e),this.program=n,this.locations=r,this.buffer=t.createBuffer();var o=new Float32Array(12);o[0]=-1,o[1]=-1,o[2]=-1,o[3]=1,o[4]=1,o[5]=-1,o[6]=-1,o[7]=1,o[8]=1,o[9]=-1,o[10]=1,o[11]=1,this.array=o}return i()(e,[{key:"generateBrushTexture",value:function(e,t){var n=A.c.factorsNormal,r=n.sfact,o=n.dfact;e.blendFunc(r,o),e.useProgram(this.program),e.viewport(0,0,t.size.x,t.size.y),e.bindFramebuffer(e.FRAMEBUFFER,t.framebuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),A.k(e,this.locations,t.uniforms),e.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),e.bufferData(WebGLRenderingContext.ARRAY_BUFFER,this.array,WebGLRenderingContext.STATIC_DRAW),G.vertexAttrib(e),e.drawArrays(WebGLRenderingContext.TRIANGLES,0,6)}},{key:"dispose",value:function(e){e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}}],[{key:"create",value:function(t){var n=A.i(t,"\nprecision highp float;\n\nattribute vec2 a_position;\n\nvarying vec2 v_position;\n\nvoid main() {\n  gl_Position = vec4(a_position, 0.0, 1.0);\n  \n  v_position = a_position;\n}\n","\nprecision highp float;\n\nvarying vec2 v_position;\n\nuniform float u_softness;\n\nvoid main() {\n  float radius = 1.0 - u_softness;\n  float dist = sqrt(dot(v_position, v_position));\n  float a = 1.0 - smoothstep(radius, radius + u_softness, dist);\n\n  gl_FragColor = vec4(vec3(0.0), (a));\n}\n");if(null===n)return null;var r=A.j(t,n,M);return null===r?null:(G.bindAttribLocations(t,n),new e(t,n,r))}}]),e}(),F=new A.b([{name:"a_position",size:2,type:A.a.Float}]),P={u_texture:A.h.I1,u_resolution:A.h.F2,u_opacity:A.h.F1},V=function(){function e(t,n,r){f()(this,e),this.program=n,this.locations=r,this.capacity=1024,this.buffer=t.createBuffer(),this.array=new Float32Array(6*F.size*this.capacity)}return i()(e,[{key:"render",value:function(e,t){if(null==t.framebuffer)throw"Framebuffer should be defined";var n=A.c.factorsNormal,r=n.sfact,o=n.dfact;e.blendFunc(r,o),e.useProgram(this.program),e.bindFramebuffer(e.FRAMEBUFFER,t.framebuffer),this.capacity<t.blocks.length&&(this.capacity=t.blocks.length,this.array=new Float32Array(6*F.size*this.capacity));for(var i=this.array,u=0,s=0;s<t.blocks.length;s++){var a=t.blocks[s],c=a.x0,l=a.y0,f=a.x1,h=a.y1;i[u++]=c,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=f,i[u++]=h}e.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),e.bufferData(WebGLRenderingContext.ARRAY_BUFFER,i,WebGLRenderingContext.DYNAMIC_DRAW),A.k(e,this.locations,t.uniforms),F.vertexAttrib(e),e.drawArrays(WebGLRenderingContext.TRIANGLES,0,6*t.blocks.length)}},{key:"dispose",value:function(e){e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}}],[{key:"create",value:function(t){var n=A.i(t,"\nprecision highp float;\n\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_tex_coords;\n\nvoid main() {\n    vec2 pos = a_position / u_resolution;\n    pos.y = 1.0 - pos.y;\n    pos = pos * 2.0;\n    pos = pos - 1.0;\n    gl_Position = vec4(pos, 0.0, 1.0);\n    \n    v_tex_coords = a_position / u_resolution;\n}\n","\nprecision highp float;\n\nvarying vec2 v_tex_coords;\n\nuniform sampler2D u_texture;\nuniform float u_opacity;\n\nvoid main() {\n    vec4 pixel = texture2D(u_texture, v_tex_coords);\n    gl_FragColor = pixel * u_opacity;\n}\n");if(null===n)return null;var r=A.j(t,n,P);return null===r?null:(F.bindAttribLocations(t,n),new e(t,n,r))}}]),e}(),B=new A.b([{name:"a_position",size:2,type:A.a.Float}]),D={u_resolution:A.h.F2,u_rgba:A.h.F4},N=function(){function e(t,n,r){f()(this,e),this.program=n,this.locations=r,this.capacity=1024,this.buffer=t.createBuffer(),this.array=new Float32Array(6*B.size*this.capacity)}return i()(e,[{key:"render",value:function(e,t){if(null==t.framebuffer)throw"Framebuffer should be defined";var n=A.c.factorsNormal,r=n.sfact,o=n.dfact;e.blendFunc(r,o),e.useProgram(this.program),e.bindFramebuffer(e.FRAMEBUFFER,t.framebuffer),this.capacity<t.blocks.length&&(this.capacity=t.blocks.length,this.array=new Float32Array(6*B.size*this.capacity));for(var i=this.array,u=0,s=0;s<t.blocks.length;s++){var a=t.blocks[s],c=a.x0,l=a.y0,f=a.x1,h=a.y1;i[u++]=c,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=c,i[u++]=h,i[u++]=f,i[u++]=l,i[u++]=f,i[u++]=h}e.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),e.bufferData(WebGLRenderingContext.ARRAY_BUFFER,i,WebGLRenderingContext.DYNAMIC_DRAW),A.k(e,this.locations,t.uniforms),B.vertexAttrib(e),e.drawArrays(WebGLRenderingContext.TRIANGLES,0,6*t.blocks.length)}},{key:"dispose",value:function(e){e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}}],[{key:"create",value:function(t){var n=A.i(t,"\nprecision highp float;\n\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvoid main() {\n    vec2 pos = a_position / u_resolution;\n    pos.y = 1.0 - pos.y;\n    pos = pos * 2.0;\n    pos = pos - 1.0;\n    gl_Position = vec4(pos, 0.0, 1.0);\n}\n","\nprecision highp float;\n\nuniform vec4 u_rgba;\n\nvoid main() {\n    gl_FragColor = u_rgba;\n}\n");if(null===n)return null;var r=A.j(t,n,D);return null===r?null:(B.bindAttribLocations(t,n),new e(t,n,r))}}]),e}(),z=5e3,H=new A.b([{name:"a_color",size:4,type:A.a.Float},{name:"a_tex_coords",size:2,type:A.a.Float},{name:"a_position",size:2,type:A.a.Float}]),U={u_resolution:A.h.F2,u_texture:A.h.I1};function W(){return{x0:Number.MAX_VALUE,y0:Number.MAX_VALUE,x1:Number.MIN_VALUE,y1:Number.MIN_VALUE}}var X=function(){function e(t,n,r){f()(this,e),this.program=n,this.locations=r;var o=6*H.size*z;this.buffer=t.createBuffer(),this.array=new Float32Array(o),this.offset=0,this.affectedArea=W()}return i()(e,[{key:"addPoints",value:function(e){for(var t=6*H.size*e.length+this.offset;t>this.array.length;)this.array=Y(this.array);for(var n=this.array,r=e.length,o=this.offset,i=0;i<r;i++)o=q(n,o,e[i],this.affectedArea);this.offset=o}},{key:"getAffectedArea",value:function(){var e=this.affectedArea;return new d.i(e.x0,e.y0,e.x1,e.y1)}},{key:"flush",value:function(e,t){e.useProgram(this.program);var n=this.array.subarray(0,this.offset),r=A.c.getFactors(t.blendMode),o=r.sfact,i=r.dfact;e.blendFunc(o,i),e.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER,this.buffer),e.bufferData(WebGLRenderingContext.ARRAY_BUFFER,n,WebGLRenderingContext.DYNAMIC_DRAW),A.k(e,this.locations,t.uniforms),H.vertexAttrib(e);var u=H.getDrawCount(this.offset);e.drawArrays(WebGLRenderingContext.TRIANGLES,0,u),this.offset=0,this.affectedArea=W()}},{key:"dispose",value:function(e){e.deleteBuffer(this.buffer),e.deleteProgram(this.program)}},{key:"canFlush",get:function(){return this.offset>0}}],[{key:"create",value:function(t){var n=A.i(t,"\nprecision highp float;\n\nattribute vec4 a_color;\nattribute vec2 a_tex_coords;\nattribute vec2 a_position;\n\nuniform vec2 u_resolution;\n\nvarying vec4 v_color;\nvarying vec2 v_tex_coords;\n\nvoid main() {\n    vec2 pos = (a_position / u_resolution) * vec2(2.0, -2.0) + vec2(-1.0, 1.0);\n    gl_Position = vec4(pos, 0.0, 1.0);\n\n    v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n    v_tex_coords = a_tex_coords;\n}\n","\nprecision highp float;\n\nvarying vec4 v_color;\nvarying vec2 v_tex_coords;\n\nuniform sampler2D u_texture;\n\nvoid main() {\n    float alpha = texture2D(u_texture, v_tex_coords).a;\n    gl_FragColor = v_color * alpha;\n}\n");if(null===n)return null;var r=A.j(t,n,U);return null===r?null:(H.bindAttribLocations(t,n),new e(t,n,r))}}]),e}();function Y(e){for(var t=new Float32Array(2*e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function q(e,t,n,r){var o=n.position.x,i=n.position.y,u=.5*n.scaledDiameter,s=o-u,a=i-u,c=o+u,l=i+u;return t=Z(e,t,n,0,0,s,a),t=Z(e,t,n,1,0,c,a),t=Z(e,t,n,0,1,s,l),t=Z(e,t,n,1,1,c,l),t=Z(e,t,n,0,1,s,l),t=Z(e,t,n,1,0,c,a),s<r.x0&&(r.x0=s),a<r.y0&&(r.y0=a),c>r.x1&&(r.x1=c),l>r.y1&&(r.y1=l),t}function Z(e,t,n,r,o,i,u){return e[t++]=n.color.r,e[t++]=n.color.g,e[t++]=n.color.b,e[t++]=n.alpha,e[t++]=r,e[t++]=o,e[t++]=i,e[t++]=u,t}var K=n(73),J=n.n(K),Q=32,$=32,ee=function(){function e(t,n){f()(this,e),this.x0=t*Q,this.y0=n*$,this.x1=(t+1)*Q,this.y1=(n+1)*$}return i()(e,[{key:"eq",value:function(e){return this.x0===e.x0&&this.y0===e.y0}}]),e}(),te=function(){function e(){f()(this,e),this._frameBlocks=[],this._strokeBlocks=[]}return i()(e,[{key:"getFrameBlocks",value:function(){return this._frameBlocks}},{key:"getStrokeBlocks",value:function(){return this._strokeBlocks}},{key:"addPoints",value:function(e){if(0!==e.length){for(var t=this._frameBlocks,n=0;n<e.length;n++)for(var r=e[n],o=r.scaledDiameter/2,i=r.position.x-o,u=r.position.y-o,s=r.position.x+o,a=r.position.y+o,c=i/Q|0,l=s/Q|0,f=a/$|0,h=u/$|0;h<=f;h++)for(var v=c;v<=l;v++){for(var d=new ee(v,h),p=!1,b=0;b<t.length;b++)if(t[b].eq(d)){p=!0;break}p||t.push(d)}for(var g=this._strokeBlocks,y=0;y<t.length;y++){for(var m=t[y],_=!1,T=0;T<g.length;T++)if(m.eq(g[T])){_=!0;break}_||g.push(m)}}}},{key:"strokeEnded",value:function(){var e;(e=this._frameBlocks).splice.apply(e,[0,this._frameBlocks.length].concat(J()(this._strokeBlocks))),this._strokeBlocks.length=0}},{key:"afterFrame",value:function(){this._frameBlocks.length=0}}]),e}(),ne=n(8),re=1,oe=function e(t,n){f()(this,e),this.id=re++,this.texture=t,this.framebuffer=n};function ie(e,t,n,r){var o=new oe(e.createTexture(),e.createFramebuffer());t.push(o),ue(e,n,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.x,r.y,0,e.RGBA,e.FLOAT,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,o.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o.texture,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER);switch(i){case e.FRAMEBUFFER_COMPLETE:case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:case e.FRAMEBUFFER_UNSUPPORTED:break;default:throw"Unexpected status: "+i}return o}function ue(e,t,n){for(var r=n.texture,o=n.id,i=0;i<t.length;i++)if(t[i][0]===o)return e.activeTexture(e.TEXTURE0+i),i;for(var u=0;u<t.length;u++)if(null===t[u][0])return e.activeTexture(e.TEXTURE0+u),e.bindTexture(e.TEXTURE_2D,r),t[u]=[o,performance.now()],u;for(var s=Number.MAX_VALUE,a=0,c=0;c<t.length;c++){var l=t[c][1];l<s&&(s=l,a=c)}return e.activeTexture(e.TEXTURE0+a),e.bindTexture(e.TEXTURE_2D,r),t[a]=[o,performance.now()],a}function se(e,t){if(e.length!==t.length)return!0;for(var n=0;n<t.length;n++)if(e[n].id!==t[n].id)return!0;return!1}function ae(e,t,n){for(var r=n.texture,o=n.id,i=0;i<t.length;i++)if(t[i][0]===o)return e.activeTexture(e.TEXTURE0+i),i;for(var u=0;u<t.length;u++)if(null===t[u][0])return e.activeTexture(e.TEXTURE0+u),e.bindTexture(e.TEXTURE_2D,r),t[u]=[o,performance.now()],u;for(var s=Number.MAX_VALUE,a=0,c=0;c<t.length;c++){var l=t[c][1];l<s&&(s=l,a=c)}return e.activeTexture(e.TEXTURE0+a),e.bindTexture(e.TEXTURE_2D,r),t[a]=[o,performance.now()],a}var ce,le=function(){function e(t){f()(this,e),this.gl=t.gl,this.brushTextureGenerator=t.brushTextureGenerator,this.textureRenderer=t.textureRenderer,this.clearBlocksRenderer=t.clearBlocksRenderer,this.outputRenderer=t.outputRenderer,this.drawpointBatch=t.drawpointBatch,this.allTextures=[],this.textureBindings=new Array(32).fill([null,0]),this.layerTextureMap=new Map,this.internalCanvasSize=t.resolution,this.stroke=null,this.renderBlocks=new te,this.prevLayers={above:[],below:[],current:null};var n=new d.h(128,128);this.brushTexture=ie(this.gl,this.allTextures,this.textureBindings,n),this.brushTextureGenerator.generateBrushTexture(this.gl,{framebuffer:this.brushTexture.framebuffer,size:n,uniforms:{u_softness:0}}),this.outputTexture=ie(this.gl,this.allTextures,this.textureBindings,t.resolution);var r=this.outputTexture.framebuffer;this.combinedLayers={above:ie(this.gl,this.allTextures,this.textureBindings,t.resolution),below:ie(this.gl,this.allTextures,this.textureBindings,t.resolution),current:ie(this.gl,this.allTextures,this.textureBindings,t.resolution)},this.gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,r),this.gl.viewport(0,0,t.resolution.x,t.resolution.y),this.gl.clearColor(.6,.6,.6,1),this.gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.outputRenderer.render(this.gl,{uniforms:{u_resolution:t.resolution,u_texture:ue(this.gl,this.textureBindings,this.outputTexture)},blocks:[{x0:0,y0:0,x1:t.resolution.x,y1:t.resolution.y}]})}return i()(e,[{key:"addBrushPoints",value:function(e){this.drawpointBatch.addPoints(e),this.renderBlocks.addPoints(e)}},{key:"endStroke",value:function(){!function(e){var t=e.gl,n=e.stroke,r=e.prevLayers,o=e.internalCanvasSize;if(null===n)return;if(null===r.current)return;t.viewport(0,0,e.internalCanvasSize.x,e.internalCanvasSize.y),e.textureRenderer.render(t,{framebuffer:e.combinedLayers.current.framebuffer,uniforms:{u_opacity:1,u_resolution:o,u_texture:ue(e.gl,e.textureBindings,n)},blocks:e.renderBlocks.getStrokeBlocks()}),t.bindFramebuffer(t.FRAMEBUFFER,n.framebuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.renderBlocks.strokeEnded()}(this)}},{key:"render",value:function(e){!function(e,t){var n=t.blendMode,r=t.nextLayers,o=t.resolution,i=t.brush,u=e.renderBlocks.getFrameBlocks();if(0===u.length)return;var s=e.gl;if(e.drawpointBatch.canFlush)if(null===r.current);else{var a=e.layerTextureMap.get(r.current.id);null==a&&(a=ie(e.gl,e.allTextures,e.textureBindings,e.internalCanvasSize),e.layerTextureMap.set(r.current.id,a));var c=e.brushTexture;e.brushTextureGenerator.generateBrushTexture(s,{framebuffer:c.framebuffer,size:new d.h(128,128),uniforms:{u_softness:Math.max(i.softness,1e-6)}}),s.viewport(0,0,o.x,o.y),s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer),e.drawpointBatch.flush(s,{blendMode:n,uniforms:{u_resolution:o,u_texture:ue(e.gl,e.textureBindings,c)}})}var l=function(e,t){var n=t.above,r=t.below,o=null,i=null;if(se(e.above,n)){o=[];for(var u=0;u<n.length;u++){var s=n[u];0!==s.opacity&&o.push(s)}}if(se(e.below,r)){i=[];for(var a=r.length-1;a>=0;a--){var c=r[a];0!==c.opacity&&i.push(c)}}return{above:o,below:i,current:t.current}}(e.prevLayers,r);!function(e){var t=e.gl,n=e.allTextures,r=e.resolution,o=e.layersToRender,i=e.textureShader,u=e.textureBindings,s=e.layerTextureMap,a=o.above,c=o.below,l=o.current;if(t.clearColor(0,0,0,0),null!==a){t.bindFramebuffer(t.FRAMEBUFFER,e.textureAbove.framebuffer),t.clear(t.COLOR_BUFFER_BIT);for(var f=0;f<a.length;f++){var h=a[f],v=s.get(h.id);null==v&&(v=ie(t,n,u,r),s.set(h.id,v)),i.render(t,{blocks:[{x0:0,y0:0,x1:r.x,y1:r.y}],framebuffer:e.textureAbove.framebuffer,uniforms:{u_opacity:h.opacity,u_resolution:r,u_texture:ae(t,u,v)}})}}if(null!==c){t.bindFramebuffer(t.FRAMEBUFFER,e.textureBelow.framebuffer),t.clear(t.COLOR_BUFFER_BIT);for(var d=0;d<c.length;d++){var p=c[d],b=s.get(p.id);null==b&&(b=ie(t,n,u,r),s.set(p.id,b)),i.render(t,{blocks:[{x0:0,y0:0,x1:r.x,y1:r.y}],framebuffer:e.textureBelow.framebuffer,uniforms:{u_opacity:p.opacity,u_resolution:r,u_texture:ae(t,u,b)}})}}if(null!==l){var g=s.get(l.id);null==g&&(g=ie(t,n,u,r),s.set(l.id,g)),t.bindFramebuffer(t.FRAMEBUFFER,e.textureCurrent.framebuffer),t.clear(t.COLOR_BUFFER_BIT),i.render(t,{blocks:[{x0:0,y0:0,x1:r.x,y1:r.y}],framebuffer:e.textureCurrent.framebuffer,uniforms:{u_opacity:l.opacity,u_resolution:r,u_texture:ae(t,u,g)}})}}({gl:s,resolution:o,allTextures:e.allTextures,layerTextureMap:e.layerTextureMap,textureBindings:e.textureBindings,textureShader:e.textureRenderer,layersToRender:l,textureAbove:e.combinedLayers.above,textureBelow:e.combinedLayers.below,textureCurrent:e.combinedLayers.current});var f=e.outputTexture.framebuffer;if(null==f)throw"Out framebuffer should exist";s.bindFramebuffer(s.FRAMEBUFFER,f);var h=new ne.RgbLinear(.6,.6,.6);e.clearBlocksRenderer.render(s,{framebuffer:f,uniforms:{u_resolution:o,u_rgba:d.i.fromRgba(h,1)},blocks:u}),e.textureRenderer.render(s,{framebuffer:f,uniforms:{u_opacity:1,u_resolution:o,u_texture:ue(e.gl,e.textureBindings,e.combinedLayers.below)},blocks:u}),null!==r.current&&e.textureRenderer.render(s,{framebuffer:f,uniforms:{u_opacity:r.current.opacity,u_resolution:o,u_texture:ue(e.gl,e.textureBindings,e.combinedLayers.current)},blocks:u});e.textureRenderer.render(s,{framebuffer:f,uniforms:{u_opacity:1,u_resolution:o,u_texture:ue(e.gl,e.textureBindings,e.combinedLayers.above)},blocks:u}),e.outputRenderer.render(s,{uniforms:{u_resolution:o,u_texture:ue(e.gl,e.textureBindings,e.outputTexture)},blocks:u}),s.flush(),e.prevLayers=r,e.renderBlocks.afterFrame()}(this,e)}},{key:"dispose",value:function(){var e=this.gl;this.brushTextureGenerator.dispose(e),this.textureRenderer.dispose(e),this.outputRenderer.dispose(e),this.drawpointBatch.dispose(e);var t=!0,n=!1,r=void 0;try{for(var o,i=this.allTextures[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;e.deleteTexture(u.texture),u instanceof oe&&e.deleteFramebuffer(u.framebuffer)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}]),e}();function fe(){var e=I.a(E.b.create(145264772)),t=v()(e,2),n=t[0];return{rng:t[1],theme:n,tool:O.e(),layers:R.init(),hasPressedDown:!1}}function he(){return{tool:O.f()}}n.d(t,"d",function(){return fe}),n.d(t,"c",function(){return he}),n.d(t,"b",function(){return Oe}),n.d(t,"e",function(){return Ee}),n.d(t,"a",function(){return Ie}),function(e){e[e.OnFrame=0]="OnFrame",e[e.OnClick=1]="OnClick",e[e.OnRelease=2]="OnRelease",e[e.OnDrag=3]="OnDrag",e[e.RandomizeTheme=4]="RandomizeTheme",e[e.ToolMsg=5]="ToolMsg",e[e.LayersMsg=6]="LayersMsg"}(ce||(ce={}));var ve,de=function e(t){f()(this,e),this.ms=t,this.type=ce.OnFrame},pe=function e(t){f()(this,e),this.input=t,this.type=ce.OnClick},be=function e(t){f()(this,e),this.input=t,this.type=ce.OnRelease},ge=function e(t){f()(this,e),this.inputs=t,this.type=ce.OnDrag},ye=function e(){f()(this,e),this.type=ce.RandomizeTheme},me=function e(t){f()(this,e),this.msg=t,this.type=ce.ToolMsg},_e=function e(t){f()(this,e),this.msg=t,this.type=ce.LayersMsg};!function(e){e[e.NoOpEffect=0]="NoOpEffect",e[e.FrameEffect=1]="FrameEffect",e[e.BrushPointsEffect=2]="BrushPointsEffect",e[e.ReleaseEffect=3]="ReleaseEffect"}(ve||(ve={}));var Te=function e(){f()(this,e),this.type=ve.NoOpEffect};Te.value=new Te;var we=function e(t,n){f()(this,e),this.brushPoints=t,this.state=n,this.type=ve.FrameEffect},xe=function e(t){f()(this,e),this.brushPoints=t,this.type=ve.BrushPointsEffect},Re=function e(t){f()(this,e),this.brushPoints=t,this.type=ve.ReleaseEffect};function Oe(e){return{onFrame:function(t){return e(new de(t))},onClick:function(t){return e(new pe(t))},onRelease:function(t){return e(new be(t))},onDrag:function(t){return e(new ge(t))},randomizeTheme:function(){return e(new ye)},tool:O.b(function(t){return e(new me(t))}),layer:x(function(t){return e(new _e(t))})}}function Ee(e,t,n){switch(n.type){case ce.OnFrame:var r=O.i(e.tool,t.tool,n.ms),o=v()(r,2),i=o[0],u=o[1];return[e,{tool:i},new we(u,e)];case ce.OnClick:var a=O.g(e.tool,t.tool,n.input),l=v()(a,3),f=l[0],h=l[1],d=l[2];return[c()({},e,{hasPressedDown:!0,tool:f}),{tool:h},new xe(d)];case ce.OnRelease:var p=O.j(e.tool,t.tool,n.input),b=v()(p,3),g=b[0],y=b[1],m=b[2];return[c()({},e,{hasPressedDown:!1,tool:g}),{tool:y},new Re(m)];case ce.OnDrag:if(0===n.inputs.length){throw s()({},"Expected inputs be be 1 or greater",n)}if(!e.hasPressedDown)return[e,t,Te.value];var _=O.h(e.tool,t.tool,n.inputs),T=v()(_,3),w=T[0],x=T[1],R=T[2];return[c()({},e,{tool:w}),{tool:x},new xe(R)];case ce.RandomizeTheme:var E=I.a(e.rng),A=v()(E,2),k=A[0],j=A[1];return[c()({},e,{rng:j,theme:k}),t,Te.value];case ce.ToolMsg:return[c()({},e,{tool:O.k(e.tool,n.msg)}),t,Te.value];case ce.LayersMsg:return[c()({},e,{layers:e.layers.update(n.msg)}),t,Te.value];default:throw{"unexpected msg":n}}}var Ie=function(){function e(t,n,r,o){f()(this,e),this.canvasElement=t,this.hooks=r,this.context=o,this.perfTracker=new d.d({maxSamples:50,onSamples:this.hooks.onStats}),this.splitLayers=n.layers.split()}return i()(e,[{key:"update",value:function(e){this.splitLayers=e.layers.split()}},{key:"handle",value:function(e){switch(e.type){case ve.NoOpEffect:return;case ve.FrameEffect:this.perfTracker.start(),this.context.addBrushPoints(e.brushPoints);var t=new d.h(this.canvasElement.width,this.canvasElement.height),n=e.state;return this.context.render({blendMode:O.c(n.tool),nextLayers:this.splitLayers,resolution:t,brush:{softness:O.d(n.tool)}}),void this.perfTracker.end();case ve.BrushPointsEffect:return void this.context.addBrushPoints(e.brushPoints);case ve.ReleaseEffect:return this.context.addBrushPoints(e.brushPoints),void this.context.endStroke();default:throw{"unexpected effect":e}}}},{key:"dispose",value:function(){this.context.dispose()}}],[{key:"create",value:function(t,n,r){var o=function(e){var t=e.getContext("webgl",{antialias:!1,depth:!1,alpha:!1,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:!0,desynchronized:!0});if(null===t)return d.e.err("Failed to initialize WebGL");var n=t.getContextAttributes();!n||n.desynchronized,t.getExtension("OES_texture_float_linear"),t.getExtension("OES_texture_float"),t.viewport(0,0,e.width,e.height),t.enable(WebGLRenderingContext.BLEND),t.disable(WebGLRenderingContext.DEPTH_TEST);var r=A.c.factorsNormal,o=r.sfact,i=r.dfact;t.blendFunc(o,i);var u=X.create(t);if(null===u)return d.e.err("Failed to initialize BrushShader");var s=C.create(t);if(null===s)return d.e.err("Failed to initialize BrushTextureGenerator");var a=V.create(t);if(null===a)return d.e.err("Failed to initialize TextureShader");var c=N.create(t);if(null===c)return d.e.err("Failed to initialize ClearBlocksShader");var l=L.create(t);if(null===l)return d.e.err("Failed to initialize OutputShader");t.viewport(0,0,e.width,e.height);var f=new le({gl:t,brushTextureGenerator:s,drawpointBatch:u,outputRenderer:l,textureRenderer:a,clearBlocksRenderer:c,resolution:new d.h(e.width,e.height)});return d.e.ok([f,t])}(t);return d.e.isOk(o)?new e(t,n,r,o[1][0]):null}}]),e}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return He}),n.d(t,"b",function(){return Ue}),n.d(t,"c",function(){return We}),n.d(t,"d",function(){return Xe}),n.d(t,"e",function(){return Ye});var r=n(10),o=n(16),i=n(67),u=n(44);const s=(e,t,n)=>t.h.h(e,t.t,n);function a(e,t=!0){const n={next:e=>{Object(i.a)(n,e.target,e)}};return r.a.addEventListener(e,Object(o.g)(e=>{n.next(e)}),t),n}const c="ssr"===e.env.IVI_TARGET?void 0:a("abort"),l="ssr"===e.env.IVI_TARGET?void 0:a("activate"),f="ssr"===e.env.IVI_TARGET?void 0:a("ariarequest"),h="ssr"===e.env.IVI_TARGET?void 0:a("beforeactivate"),v="ssr"===e.env.IVI_TARGET?void 0:a("beforecopy"),d="ssr"===e.env.IVI_TARGET?void 0:a("beforecut"),p="ssr"===e.env.IVI_TARGET?void 0:a("beforedeactivate"),b="ssr"===e.env.IVI_TARGET?void 0:a("beforepaste"),g="ssr"===e.env.IVI_TARGET?void 0:a("blur"),y="ssr"===e.env.IVI_TARGET?void 0:a("canplay"),m="ssr"===e.env.IVI_TARGET?void 0:a("canplaythrough"),_="ssr"===e.env.IVI_TARGET?void 0:a("change"),T="ssr"===e.env.IVI_TARGET?void 0:a("click"),w="ssr"===e.env.IVI_TARGET?void 0:a("contextmenu"),x="ssr"===e.env.IVI_TARGET?void 0:a("copy"),R="ssr"===e.env.IVI_TARGET?void 0:a("cuechange"),O="ssr"===e.env.IVI_TARGET?void 0:a("cut"),E="ssr"===e.env.IVI_TARGET?void 0:a("dblclick"),I="ssr"===e.env.IVI_TARGET?void 0:a("deactivate"),A="ssr"===e.env.IVI_TARGET?void 0:a("drag"),k="ssr"===e.env.IVI_TARGET?void 0:a("dragend"),j="ssr"===e.env.IVI_TARGET?void 0:a("dragenter"),S="ssr"===e.env.IVI_TARGET?void 0:a("dragleave"),L="ssr"===e.env.IVI_TARGET?void 0:a("dragover"),G="ssr"===e.env.IVI_TARGET?void 0:a("dragstart"),M="ssr"===e.env.IVI_TARGET?void 0:a("drop"),C="ssr"===e.env.IVI_TARGET?void 0:a("durationchange"),F="ssr"===e.env.IVI_TARGET?void 0:a("emptied"),P="ssr"===e.env.IVI_TARGET?void 0:a("encrypted"),V="ssr"===e.env.IVI_TARGET?void 0:a("ended"),B="ssr"===e.env.IVI_TARGET?void 0:a("error"),D="ssr"===e.env.IVI_TARGET?void 0:a("focus"),N="ssr"===e.env.IVI_TARGET?void 0:a("gotpointercapture"),z="ssr"===e.env.IVI_TARGET?void 0:a("beforeinput"),H="ssr"===e.env.IVI_TARGET?void 0:a("input"),U="ssr"===e.env.IVI_TARGET?void 0:a("invalid"),W="ssr"===e.env.IVI_TARGET?void 0:a("keydown"),X="ssr"===e.env.IVI_TARGET?void 0:a("keypress"),Y="ssr"===e.env.IVI_TARGET?void 0:a("keyup"),q="ssr"===e.env.IVI_TARGET?void 0:a("load"),Z="ssr"===e.env.IVI_TARGET?void 0:a("loadeddata"),K="ssr"===e.env.IVI_TARGET?void 0:a("loadedmetadata"),J="ssr"===e.env.IVI_TARGET?void 0:a("loadstart"),Q="ssr"===e.env.IVI_TARGET?void 0:a("lostpointercapture"),$="ssr"===e.env.IVI_TARGET?void 0:a("mousedown"),ee="ssr"===e.env.IVI_TARGET?void 0:a("mousemove"),te="ssr"===e.env.IVI_TARGET?void 0:a("mouseout"),ne="ssr"===e.env.IVI_TARGET?void 0:a("mouseover"),re="ssr"===e.env.IVI_TARGET?void 0:a("mouseup"),oe="ssr"===e.env.IVI_TARGET?void 0:a("paste"),ie="ssr"===e.env.IVI_TARGET?void 0:a("pause"),ue="ssr"===e.env.IVI_TARGET?void 0:a("play"),se="ssr"===e.env.IVI_TARGET?void 0:a("playing"),ae="ssr"===e.env.IVI_TARGET?void 0:a("pointercancel"),ce="ssr"===e.env.IVI_TARGET?void 0:a("pointerdown"),le="ssr"===e.env.IVI_TARGET?void 0:a("pointermove"),fe="ssr"===e.env.IVI_TARGET?void 0:a("pointerout"),he="ssr"===e.env.IVI_TARGET?void 0:a("pointerover"),ve="ssr"===e.env.IVI_TARGET?void 0:a("pointerup"),de="ssr"===e.env.IVI_TARGET?void 0:a("progress"),pe="ssr"===e.env.IVI_TARGET?void 0:a("ratechange"),be="ssr"===e.env.IVI_TARGET?void 0:a("reset"),ge="ssr"===e.env.IVI_TARGET?void 0:a("scroll"),ye="ssr"===e.env.IVI_TARGET?void 0:a("seeked"),me="ssr"===e.env.IVI_TARGET?void 0:a("seeking"),_e="ssr"===e.env.IVI_TARGET?void 0:a("select"),Te="ssr"===e.env.IVI_TARGET?void 0:a("selectstart"),we="ssr"===e.env.IVI_TARGET?void 0:a("stalled"),xe="ssr"===e.env.IVI_TARGET?void 0:a("submit"),Re="ssr"===e.env.IVI_TARGET?void 0:a("suspend"),Oe="ssr"===e.env.IVI_TARGET?void 0:a("timeupdate"),Ee="ssr"===e.env.IVI_TARGET?void 0:a("touchcancel"),Ie="ssr"===e.env.IVI_TARGET?void 0:a("touchend"),Ae="ssr"===e.env.IVI_TARGET?void 0:a("touchmove"),ke="ssr"===e.env.IVI_TARGET?void 0:a("touchstart"),je="ssr"===e.env.IVI_TARGET?void 0:a("transitioncancel"),Se="ssr"===e.env.IVI_TARGET?void 0:a("transitionend"),Le="ssr"===e.env.IVI_TARGET?void 0:a("transitionrun"),Ge="ssr"===e.env.IVI_TARGET?void 0:a("transitionstart"),Me="ssr"===e.env.IVI_TARGET?void 0:a("unload"),Ce="ssr"===e.env.IVI_TARGET?void 0:a("volumechange"),Fe="ssr"===e.env.IVI_TARGET?void 0:a("waiting"),Pe="ssr"===e.env.IVI_TARGET?void 0:a("wheel"),Ve="ssr"===e.env.IVI_TARGET?void 0:a("touchend",u.a),Be="ssr"===e.env.IVI_TARGET?void 0:a("touchmove",u.a),De="ssr"===e.env.IVI_TARGET?void 0:a("touchstart",u.a),Ne="ssr"===e.env.IVI_TARGET?void 0:a("wheel",u.a);function ze(e){const t={s:e,h:s,f:0},n={s:e,h:s,f:1};return(e,r)=>({d:!0===r?n:t,h:e})}e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET;const He="ssr"===e.env.IVI_TARGET?()=>null:ze(g),Ue=(e.env.IVI_TARGET,e.env.IVI_TARGET,"ssr"===e.env.IVI_TARGET?()=>null:ze(_)),We="ssr"===e.env.IVI_TARGET?()=>null:ze(T),Xe=(e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,"ssr"===e.env.IVI_TARGET?()=>null:ze($)),Ye=(e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,"ssr"===e.env.IVI_TARGET?()=>null:ze(oe));e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET,e.env.IVI_TARGET}).call(this,n(35))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(45);r.a;const o=!r.a||{capture:!0,passive:!1};r.a,r.a},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});const r="ssr"!==e.env.IVI_TARGET&&("electron"===e.env.IVI_TARGET||(()=>{let e=!1;try{window.addEventListener("_",null,{get passive(){return e=!0}})}catch(e){}return e})());"ssr"!==e.env.IVI_TARGET&&("electron"===e.env.IVI_TARGET||e.env.IVI_TARGET),"ssr"!==e.env.IVI_TARGET&&("electron"===e.env.IVI_TARGET||e.env.IVI_TARGET),"ssr"!==e.env.IVI_TARGET&&window,"ssr"!==e.env.IVI_TARGET&&("electron"===e.env.IVI_TARGET||window),"browser"===e.env.IVI_TARGET&&window,"ssr"!==e.env.IVI_TARGET&&("electron"===e.env.IVI_TARGET||window)}).call(this,n(35))},function(e,t,n){e.exports={primary:"views-buttons__primary--P_SV9",ddefault:"views-buttons__ddefault--1BBT_",sinkableUnsunk:"views-buttons__sinkableUnsunk--1PnHd",sinkableSunk:"views-buttons__sinkableSunk--1ViVx"}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});const r=(e,t)=>e===t;function o(e,t){if(e!==t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;++r){const o=n[r];if(e[o]!==t[o])return!1}}return!0}function i(e,t){if(e!==t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1}return!0}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>({o:e,f:0,c:null,s:null})},function(e,t,n){e.exports={wrapper:"app-index__wrapper--8b_Tl",bottomLeft:"app-index__bottomLeft--71o3Y",bottomRight:"app-index__bottomRight--2qJ_T",appContainer:"app-index__appContainer--1pytb"}},function(e,t,n){e.exports={container:"views-colorWheel__container--3l98i",cicleThumb:"views-colorWheel__cicleThumb--1syQZ",areaThumb:"views-colorWheel__areaThumb--1ruwH"}},function(e,t,n){e.exports={container:"views-colorDisplay__container--29MR4",secondary:"views-colorDisplay__secondary--19HF5",primary:"views-colorDisplay__primary--otL3I"}},function(e,t,n){e.exports={row:"views-row__row--2LRwx",column:"views-row__column--3VaR6"}},function(e,t,n){e.exports={container:"debugging-index__container--1RM8E",contentContainer:"debugging-index__contentContainer--jBGUK",monospaced:"debugging-index__monospaced--1arMB"}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports={textInput:"tools-brush__textInput--1Qy5H",detailsContainer:"tools-brush__detailsContainer--2voTj"}},function(e,t,n){e.exports={container:"views-inlineLabeled__container--1KSLm",label:"views-inlineLabeled__label--17JF0"}},function(e,t,n){e.exports={surfaceLook:"views-surface__surfaceLook--1NdKb",surface:"views-surface__surface--2Mync"}},function(e,t,n){e.exports={toolBarContainer:"tools-toolbar__toolBarContainer--3Xlgx",leftBar:"tools-toolbar__leftBar--2PlvS"}},function(e,t,n){e.exports=n(89)},function(e,t,n){e.exports={monospaced:"debugging-scripting__monospaced--1EwqA",codeInput:"debugging-scripting__codeInput--3t0j8"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>({v:e})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(26);var r=n(31);const o=e=>null===e.v?null:Object(r.d)(e.v)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(27),o=n(1),i=n(26);const u=Object(o.a)(e=>{let t;const n=n=>n===r.d?void(t.v=null):(t=function(e,t,n){return void 0!==e&&e!==t&&(e.v=null),t.v=n,t}(t,n.r,e),n.c);return Object(i.e)(e,n),n}),s=(e,t)=>u({r:e,c:t})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=n(92);n(16),n(38);const o={v:void 0,s:r.a}}).call(this,n(35))},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(93),o=n(9),i=n(47),u=n(2),s=n(13),a=n(22),c=n(21),l=n(18),f=n(20),h=n(59),v=Object(r.a)(function(e){var t=e.tool.current,n=e.msgSender.setTool;return Object(u.e)(h.toolBarContainer,o.a,[Object(u.e)(f.b+" "+h.leftBar,o.a,[Object(l.c)({isDown:t===s.a.Brush,onClick:function(){return n(s.a.Brush)},children:"🖌"}),Object(l.c)({isDown:t===s.a.Eraser,onClick:function(){return n(s.a.Eraser)},children:"🔥"}),Object(l.c)({isDown:t===s.a.Zoom,onClick:function(){return n(s.a.Zoom)},children:"🔍"})]),e.transientState.isDetailsExpanded?function(){switch(t){case s.a.Brush:return a.a({messageSender:e.msgSender.brush,tool:e.tool.brush});case s.a.Eraser:return c.a({messageSender:e.msgSender.eraser,tool:e.tool.eraser});default:return null}}():null])},i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(36);function o(e,t){const n=[],o=Object(r.c)(t=>t.container.contains(e));if(o){const r=o.container;r!==e&&function e(t,n,r,o,i){const u=r.parentNode;return u===o||null!==(i=e(t,n,u,o,i))?function e(t,n,r,o){if(null!==o){const{f:i,c:u}=o;let s;if(0!=(2&i)){if(o.s===r)return o;if(null!==u)return e(t,n,r,u)}else if(0!=(52&i)){if(null!==(s=e(t,n,r,o.c)))return 0!=(16&i)&&function e(t,n,r,o){if(null!==r)if(r instanceof Array){let i=r.length;for(;--i>=0;)e(t,n,r[i],o)}else{const e=r.d.s;("function"==typeof e&&!0===e(o)||e===o)&&t.push({t:n,h:r})}}(t,o,o.o.v,n),s}else if(0!=(136&i))for(let o=0;o<u.length;o++)if(null!==(s=e(t,n,r,u[o])))return s}return null}(t,n,r,i):null}(n,t,e,r,o.state)}return n}function i(e,t,n){const r=o(t,e);let i,u,s=r.length;if(s>0){for(;--s>=0;)if(0!=(1&(u=(i=r[s]).h.d).f)&&!0===u.h(n,i,e))return;for(;++s<r.length;)if(0==(1&(u=(i=r[s]).h.d).f)&&!0===u.h(n,i,e))return}}},function(e,t,n){e.exports={detailsContainer:"tools-eraser__detailsContainer--1J20r"}},function(e,t,n){var r=n(25),o=n(83);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(84);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";function r(e,t){return void 0!==window.PointerEvent?function(e,t){var n=function(n){if(1!==n.button&&2!==n.button){var r=e.getBoundingClientRect(),o=performance.now();t.click(s(r,o,n,n))}},r=function(n){var r=e.getBoundingClientRect(),o=performance.now();t.release(s(r,o,n,n))},o=function(n){var r=e.getBoundingClientRect(),o=performance.now();t.move(a(r,o,n)),n.pressure>0&&t.drag(a(r,o,n))};return window.addEventListener("pointerdown",i),e.addEventListener("pointerdown",n),window.addEventListener("pointerup",r),window.addEventListener("pointermove",o),function(){window.removeEventListener("pointerdown",i),e.removeEventListener("pointerdown",n),window.removeEventListener("pointerup",r),window.removeEventListener("pointermove",o)}}(e,t):function(e,t){var n=!1,r=function(r){if(1!==r.button&&2!==r.button){var o=e.getBoundingClientRect(),i=performance.now();t.click(c(o,i,r,!1)),n=!0}},o=function(r){var o=e.getBoundingClientRect(),i=performance.now();t.release(c(o,i,r,!0)),n=!1},i=function(r){var o=e.getBoundingClientRect(),i=performance.now();t.move([c(o,i,r,!1)]),n&&t.drag([c(o,i,r,!1)])};return e.addEventListener("mousedown",r),window.addEventListener("mouseup",o),window.addEventListener("mousemove",i),function(){e.removeEventListener("mousedown",r),window.removeEventListener("mouseup",o),window.removeEventListener("mousemove",i)}}(e,t)}n.d(t,"a",function(){return r});var o={};function i(e){.5!==e.pressure&&(o[e.pointerId]||(o[e.pointerId]=!0))}var u=void 0===PointerEvent.prototype.getCoalescedEvents?function(e){return[e]}:function(e){return e.getCoalescedEvents()};function s(e,t,n,r){var i;return{x:n.x-e.left,y:n.y-e.top,pressure:(i=r,o[i.pointerId]?i.pressure:.5===i.pressure?1:i.pressure),shift:n.shiftKey,alt:n.altKey,ctrl:n.ctrlKey,time:t}}function a(e,t,n){for(var r=u(n),o=new Array(r.length),i=0;i<r.length;i++)o[i]=s(e,t,r[i],n);return o}function c(e,t,n,r){return{x:n.x-e.left,y:n.y-e.top,pressure:r?0:1,shift:n.shiftKey,alt:n.altKey,ctrl:n.ctrlKey,time:t}}},function(e,t,n){var r=n(85),o=n(86),i=n(87);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){function n(e,t,n,r,o,i,u){try{var s=e[i](u),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var u=e.apply(t,r);function s(e){n(u,o,i,s,a,"next",e)}function a(e){n(u,o,i,s,a,"throw",e)}s(void 0)})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),o=n(62),i=n(16),u=n(63),s=n(26),a=n(9),c=n(64),l=n(15),f=n(43),h=n(2),v=n(61),d=n.n(v),p=Object(r.a)(function(e){var t=Object(o.a)(null),n="";function r(t){n=t.target.value,Object(i.b)(e)}function d(r){var o=Object(u.a)(t);null!==o&&o===r.target&&("Enter"!==r.key||r.shiftKey||r.altKey||(r.preventDefault(),n="",Object(i.b)(e)))}var p=Object(s.a)(e,function(){return document.body.addEventListener("keydown",d),function(){document.body.removeEventListener("keydown",d)}});return function(e){return p(),Object(h.e)(a.a,a.a,[Object(h.e)(a.a,a.a,["Variables",Object(h.k)(a.a,a.a,Object(h.g)(a.a,a.a,[Object(h.i)(v.monospaced,a.a,"gl"),": WebGLRenderingContext"]))]),Object(c.a)(t,Object(l.a)(Object(f.b)(r),Object(h.j)(v.codeInput,{content:Object(h.a)(n)})))])}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n.n(r),i=n(6),u=n.n(i);function s(e){return new a(e)}var a=function(){function e(t){o()(this,e),this.handlers=[],this.currentValue=t,this.signal=new c(this)}return u()(e,[{key:"push",value:function(e){this.currentValue=e;for(var t=this.handlers,n=0;n<t.length;n++)t[n](e)}},{key:"value",value:function(){return this.currentValue}},{key:"subscribe",value:function(e){var t=this;return this.handlers.push(e),{dispose:function(){!function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r]===t){n=r;break}-1!==n&&e.splice(n,1)}(t.handlers,e)}}}}]),e}();var c=function(){function e(t){o()(this,e),this.baseSignal=t}return u()(e,[{key:"value",value:function(){return this.baseSignal.value()}},{key:"subscribe",value:function(e){return this.baseSignal.subscribe(e)}}]),e}()},function(e,t,n){"use strict";var r=n(93),o=n(9),i=n(47),u=n(15),s=n(43),a=n(2),c=n(24),l=n.n(c),f=n(53);function h(e){var t=e.spacing,n=e.children;t=t||"0";var r=new Array(n.length);if(n.length>0){r[0]=Object(a.e)(f.column,o.a,n[0]);for(var i=1;i<n.length;i++)r[i]=Object(a.e)(f.column,{style:{"margin-left":t}},n[i])}return Object(a.e)(f.row,o.a,r)}var v=n(12),d=n(11),p=n(28),b=n(29),g=n(18),y=n(20);n.d(t,"a",function(){return m});var m=Object(r.a)(function(e){var t=e.layers,n=e.sender,r=t.layers.children,i=t.current();return Object(a.e)(l.a.layersWrapper,o.a,[Object(y.a)(Object(a.e)(l.a.layersControlsWrapper,o.a,[h({spacing:"0.25rem",children:[Object(g.a)({onClick:function(){return n.newLayer(i.id)},title:"New layer",content:"New"}),Object(g.a)({onClick:function(){return n.removeLayer(i.id)},title:"Delete layer",content:"Delete"})]}),Object(p.a)({label:"Hidden",children:Object(b.a)({checked:i.isHidden,onCheck:function(e){return n.setHidden(i.id,e)}})}),Object(d.a)({label:"Opacity",value:i.opacity.toFixed(2),children:Object(v.a)({percentage:i.opacity,onChange:function(e){return n.setOpacity(i.id,e)}})})])),Object(a.e)(l.a.layersListWrapper,o.a,r.map(function(e){return function(e){var t=e.selectedId,n=e.layer,r=t===n.id?l.a.selectedLayerWrapper:l.a.unselectedLayerWrapper;return Object(u.a)(Object(s.c)(function(){return e.onClick(n.id)}),Object(a.e)(r,o.a,Object(y.a)([Object(a.e)(l.a.layerLeft),Object(a.e)(l.a.layerRight,o.a,[Object(a.e)(l.a.layerName,o.a,""!==n.name?n.name:"Layer "+n.id),Object(a.e)(l.a.layerOpacity,o.a,n.isHidden?"Hidden":Object(a.i)(o.a,o.a,[Object(a.i)(o.a,o.a,"Opacity: "),Object(a.i)(o.a,o.a,n.opacity.toFixed(2))]))])])))}({layer:e,selectedId:i.id,onClick:function(e){return n.selectLayer(e)}})}))])},i.a)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(25),r=n.n(t),o=n(1),i=n(16),u=n(62),s=n(26),a=n(63),c=n(9),l=n(64),f=n(2),h=n(50),v=n(66),d=n(37),p=n(77),b=n(72),g=n(42),y=(n(88),n(3)),m=n(18),_=(n(91),n(76)),T=Object(o.a)(function(e){var t=new y.f,n=new y.f,r=new y.f,o=new y.f,T=_.a([]),w=y.g.create({initialState:g.d(),initialEphemeral:g.c(),effectsHandler:new y.c(function(){return function(e){return r.value.handle(e)}}),forceRender:function(){return Object(i.b)(e)},update:g.e}),x=g.b(w.send),R=Object(u.a)(null),O=null,E=Object(s.a)(e,function(e){null===O?d.b(e):d.c(O,e),O=e}),I=Object(s.b)(e,function(e){r.value.update(e)}),A=Object(s.b)(e,function(){var e=Object(a.a)(R);if(null==e)throw"Canvas not found";var i=g.a.create(e,w.getState(),{onStats:function(e){T.push(e)},onWebglContextCreated:function(e){o.set(e)}});if(null===i)throw"Failed to initialize Canvas";return r.set(i),t.set(b.a(e,{click:x.onClick,release:x.onRelease,move:function(e){},drag:x.onDrag})),n.set(y.b.make(x.onFrame)),function(){t.value(),n.value(),r.value.dispose()}});return function(){var e=w.getState();return A(),I(e),E(e.theme),Object(f.e)(h.appContainer,c.a,[Object(f.e)(h.wrapper,c.a,[v.a({msgSender:x.tool,tool:e.tool,transientState:{isDetailsExpanded:!0}}),Object(l.a)(R,Object(f.d)(c.a,{width:800,height:800,style:{cursor:"crosshair "}})),Object(f.e)(c.a,{style:{width:"14rem"}},p.a({layers:e.layers,sender:x.layer}))]),Object(f.e)(h.bottomLeft,c.a,m.b({content:"Next theme",onClick:x.randomizeTheme})),null])}}),w=document.getElementById("canvas-root");if(null===w)throw"canvas-root not found";Object(i.c)(T(),w),"object"===r()(e.hot)&&e.hot.accept()}.call(this,n(79)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";n(60),n(74),n(8),n(3)},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(90),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var f="suspendedStart",h="suspendedYield",v="executing",d="completed",p={},b={};b[u]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==r&&o.call(y,u)&&(b=y);var m=R.prototype=w.prototype=Object.create(b);x.prototype=m.constructor=R,R.constructor=x,R[a]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,R):(e.__proto__=R,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},O(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(e,t,n,r){var o=new E(_(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(m),m[a]="Generator",m[u]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=e,u.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function _(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),u=new j(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===v)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var s=I(u,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var a=T(e,t,n);if("normal"===a.type){if(r=n.done?d:h,a.arg===p)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=d,n.method="throw",n.arg=a.arg)}}}(e,n,u),i}function T(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function x(){}function R(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,u){var s=T(e[n],e,r);if("throw"!==s.type){var a=s.arg,c=a.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,u)},function(e){t("throw",e,i,u)}):Promise.resolve(c).then(function(e){a.value=e,i(a)},function(e){return t("throw",e,i,u)})}u(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=T(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function S(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";var r=n(1),o=n(16),i=n(9),u=n(2),s=n(54),a=n(20),c=n(18),l=n(75),f=n(0),h=n.n(f),v=n(6),d=n.n(v),p=n(26),b=Object(r.a)(function(e){var t=g.empty,n=Object(p.a)(e,function(e){return e.subscribe(function(e){t=t.update(e)}).dispose});return function(e){n(e.samplesSignal);var r=t.length(),o=Number.MIN_VALUE,s=0;return t.forEach(function(e,t){var n=e.endMs-e.startMs;s+=n,n>o&&(o=n)}),Object(u.e)(i.a,i.a,[Object(u.e)(i.a,i.a,"Max: "+o.toFixed(3)+" ms"),Object(u.e)(i.a,i.a,"Avg: "+(s/r).toFixed(3)+" ms")])}}),g=function(){function e(t,n,r,o){h()(this,e),this.sample0=t,this.sample1=n,this.sample2=r,this.sample3=o}return d()(e,[{key:"update",value:function(t){return new e(t,this.sample0,this.sample1,this.sample2)}},{key:"length",value:function(){return this.sample0.length+this.sample1.length+this.sample2.length+this.sample3.length}},{key:"forEach",value:function(e){for(var t=this.sample0,n=0,r=0;r<t.length;r++)e(t[r],r);n+=t.length,t=this.sample1;for(var o=0;o<t.length;o++)e(t[o],n+o);n+=t.length,t=this.sample2;for(var i=0;i<t.length;i++)e(t[i],n+i);n+=t.length,t=this.sample3;for(var u=0;u<t.length;u++)e(t[u],n+u)}}]),e}();g.empty=new g([],[],[],[]);Object(r.a)(function(e){var t=!1;function n(){t=!0,Object(o.b)(e)}function r(){t=!1,Object(o.b)(e)}return function(e){var o=e.state;return Object(a.a)(t?Object(u.e)(s.container,i.a,[Object(c.a)({content:"Close",onClick:r}),Object(u.e)(s.contentContainer,i.a,["RNG: ",Object(u.e)(s.monospaced,i.a,o.rng.display()),b({samplesSignal:e.perfSamplesSignal}),Object(l.a)({gl:e.gl})])]):Object(c.a)({onClick:n,content:"Debug"}))}})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=()=>{}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(47);function o(e,t=r.c){let n,o;return r=>(void 0!==o&&!0===t(n,r)||(n=r,o=e(r)),o)}}]);
//# sourceMappingURL=main-65359a554dfd766255f6.js.map