require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({9:[function(require,module,exports) {
"use strict";var e,t;function n(e){var n=e.gridSize,r=n[0],s=n[1],a=o(r,s);return{initArgs:e,state:t.InProgress,gridSize:e.gridSize,grid:a,snake:{direction:e.dir,directionQueue:[e.dir],nextDirection:e.dir,nextNextDirection:void 0,length:e.snakeLength,position:e.position},noms:i(a,r,s)}}function r(e){for(var n=e.snake,r=e.grid,o=e.gridSize,s=e.initArgs,a=o[0],c=o[1],d=0;d<a;d++)for(var g=0;g<c;g++)r[d][g]=0;e.noms=i(r,a,c),e.state=t.InProgress,n.direction=s.dir,n.nextDirection=s.dir,n.nextNextDirection=void 0,n.length=s.snakeLength,n.position=s.position}function i(e,t,n){var r=Math.floor(Math.random()*t),o=Math.floor(Math.random()*n);return e[r][o]>0?i(e,t,n):[r,o]}function o(e,t){for(var n=new Array(e),r=0;r<e;r++){for(var i=new Array(t),o=0;o<t;o++)i[o]=0;n[r]=i}return n}function s(e){var n=a(e,e.snake.nextDirection);if(c(e,n))e.state=t.Lost;else{var r=n[0],o=n[1],s=e.grid,d=e.snake,g=e.noms,u=e.gridSize,x=u[0],f=u[1];if(d.position=[r,o],r===g[0]&&o===g[1])d.length++,s[r][o]=d.length,e.noms=i(s,x,f);else{for(var p=0;p<x;p++)for(var D=0;D<f;D++)s[p][D]>0&&s[p][D]--;s[r][o]=d.length}d.direction=d.nextDirection,d.nextDirection=void 0!==d.nextNextDirection?d.nextNextDirection:d.nextDirection,d.nextNextDirection=void 0}}function a(t,n){t.grid;var r=t.snake.position,i=r[0],o=r[1];switch(n){case e.Left:return[i-1,o];case e.Up:return[i,o-1];case e.Right:return[i+1,o];case e.Down:return[i,o+1]}}function c(e,t){var n=e.grid,r=e.gridSize,i=r[0],o=r[1],s=t[0],a=t[1];return s>=i||s<0||a>=o||a<0||n[s][a]>1}function d(e,t){var n=e.snake;n.direction===n.nextDirection?g(n.direction,t)&&(n.nextDirection=t):g(n.nextDirection,t)&&(n.nextNextDirection=t)}function g(t,n){switch(t){case e.Left:return n!==e.Right;case e.Right:return n!==e.Left;case e.Up:return n!==e.Down;case e.Down:return n!==e.Up}}function u(e){var t=e.snake,n=e.initArgs;return t.length-n.snakeLength}Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Left=0]="Left",e[e.Up=1]="Up",e[e.Right=2]="Right",e[e.Down=3]="Down"}(e=exports.Dir||(exports.Dir={})),function(e){e[e.InProgress=0]="InProgress",e[e.InProgressAndPaused=1]="InProgressAndPaused",e[e.Lost=2]="Lost",e[e.Won=3]="Won"}(t=exports.GameState||(exports.GameState={})),exports.init=n,exports.reinit=r,exports.update=s,exports.setDirection=d,exports.getScore=u;
},{}],8:[function(require,module,exports) {
"use strict";function r(r,t){return void 0!==t?[r,t]:[r,r]}function t(r,t){var e=r[0],n=r[1];return[e+t[0],n+t[1]]}function e(r,t){var e=r[0],n=r[1];return[e/t[0],n/t[1]]}function n(r,t){t[0];return[r,t[1]]}function o(r,t){var e=t[0];t[1];return[e,r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.of=r,exports.add=t,exports.divide=e,exports.withX=n,exports.withY=o;
},{}],6:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./core"),t=require("./core"),n=require("./vec2"),a=100,r=20,i=20,s=4,o=e.Dir.Right,c=1,f=1;function l(e){var t=e.getContext("2d"),n=u();window.addEventListener("keydown",function(e){return G(n,e.keyCode)}),g(t,n),P(t,n)}function u(){return{game:t.init({gridSize:[r,i],dir:o,snakeLength:s,position:[c,f]}),needsRender:!0}}function d(e){t.reinit(e.game),e.needsRender=!0}function g(t,n){var a=n.game,r=performance.now();switch(n.needsRender&&(a.state===e.GameState.InProgress&&S(t,a,r),n.needsRender=!1),h(t,a,r),a.state){case e.GameState.InProgress:break;case e.GameState.InProgressAndPaused:w(t,a);break;case e.GameState.Lost:p(t,a);break;case e.GameState.Won:x(t,a)}requestAnimationFrame(function(){return g(t,n)})}function S(e,t,n){var a=m(e.canvas,t),r=a[0],i=a[1];e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,e.canvas.width,e.canvas.height);for(var s=t.gridSize,o=s[0],c=s[1],f=0;f<o;f++)for(var l=0;l<c;l++){if(t.grid[f][l]==t.snake.length)e.fillStyle="rgb(255, 255, 255)";else{if(!(t.grid[f][l]>0))continue;var u=t.grid[f][l]/t.snake.length;e.fillStyle=v(u)}e.fillRect(f*r,l*i,r,i)}}function m(e,t){return n.divide([e.width,e.height],t.gridSize)}function b(e,t,n){return t+Math.floor(e*(n-t))}function v(e){return"rgb("+b(e,150,200)+","+b(e,150,255)+","+b(e,140,100)+")"}function h(e,t,n){var a=t.noms,r=a[0],i=a[1],s=m(e.canvas,t),o=s[0],c=s[1];e.fillStyle=k(n),e.fillRect(r*o,i*c,o,c)}function R(e){return Math.floor(255.999999*e)}function k(e){var t=e%100/100;return"rgb(255,"+R(e%200/200)+","+R(t)+")"}function w(e,t){e.fillStyle="rgb(240, 20, 20)",e.font="40px Roboto",e.fillText("Paused",300,200)}function p(e,n){e.fillStyle="rgb(255, 0, 0)",e.font="40px Roboto",e.fillText("You died",300,200),e.font="34px Roboto",e.fillText("Score: "+t.getScore(n),320,400)}function x(e,t){e.fillStyle="rgb(255, 0, 0)",e.font="40px Roboto",e.fillText("Wtf.",300,200),e.font="34px Roboto",e.fillText("You won?",320,400)}function P(n,r){setInterval(function(){var n=r.game;switch(n.state){case e.GameState.InProgress:t.update(n),r.needsRender=!0}},a)}function G(t,n){switch(t.game.state){case e.GameState.InProgress:D(t,n);break;case e.GameState.InProgressAndPaused:I(t,n);break;case e.GameState.Lost:case e.GameState.Won:y(t,n)}}function y(e,t){switch(t){case 13:case 27:case 32:d(e)}}function D(n,a){var r=n.game;switch(a){case 13:case 27:case 32:r.state=e.GameState.InProgressAndPaused,n.needsRender=!0;break;case 65:case 37:t.setDirection(r,e.Dir.Left);break;case 87:case 38:t.setDirection(r,e.Dir.Up);break;case 68:case 39:t.setDirection(r,e.Dir.Right);break;case 83:case 40:t.setDirection(r,e.Dir.Down)}}function I(t,n){var a=t.game;switch(console.log("unpausing",n),n){case 13:case 27:case 32:a.state=e.GameState.InProgress}}exports.start=l;
},{"./core":9,"./vec2":8}],4:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./snake/game"),t=document.getElementById("game-container");t&&e.start(t);
},{"./snake/game":6}]},{},[4])