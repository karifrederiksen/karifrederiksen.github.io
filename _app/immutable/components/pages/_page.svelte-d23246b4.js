import{I as te,J as he,K as pe,L as me,S as _e,i as ge,s as $e,a as T,w as R,k as S,M as ve,h as v,c as N,x as X,l as C,m as D,n as E,b as A,y as B,G as k,f as I,d as j,t as H,z as W,N as fe,o as be,O as ye,e as se,g as L,q as G,r as Z,P as ke,u as ne}from"../../chunks/index-3155a5b5.js";import{w as Ee}from"../../chunks/index-b763cd81.js";import{g as J,H as ue}from"../../chunks/hexagon-4f81c913.js";import{P as we}from"../../chunks/pill-a71ef07c.js";import{b as M}from"../../chunks/paths-6cd3a76e.js";import{s as ze,h as Ie,p as Se,r as Ce}from"../../chunks/static-44da8af7.js";import{a as De}from"../../chunks/roman-numerals-ea046c92.js";import{H as He}from"../../chunks/header-2f7bfb52.js";function Oe(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function le(e){return Object.prototype.toString.call(e)==="[object Date]"}function K(e,t){if(e===t||e!==e)return()=>e;const s=typeof e;if(s!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((r,i)=>K(e[i],r));return r=>n.map(i=>i(r))}if(s==="object"){if(!e||!t)throw new Error("Object cannot be null");if(le(e)&&le(t)){e=e.getTime(),t=t.getTime();const i=t-e;return o=>new Date(e+o*i)}const n=Object.keys(t),r={};return n.forEach(i=>{r[i]=K(e[i],t[i])}),i=>{const o={};return n.forEach(u=>{o[u]=r[u](i)}),o}}if(s==="number"){const n=t-e;return r=>e+r*n}throw new Error(`Cannot interpolate ${s} values`)}function Te(e,t={}){const s=Ee(e);let n,r=e;function i(o,u){if(e==null)return s.set(e=o),Promise.resolve();r=o;let l=n,c=!1,{delay:$=0,duration:h=400,easing:a=me,interpolate:p=K}=te(te({},t),u);if(h===0)return l&&(l.abort(),l=null),s.set(e=r),Promise.resolve();const f=he()+$;let w;return n=pe(z=>{if(z<f)return!0;c||(w=p(e,o),typeof h=="function"&&(h=h(e,o)),c=!0),l&&(l.abort(),l=null);const d=z-f;return d>h?(s.set(e=o),!1):(s.set(e=w(a(d/h))),!0)}),n.promise}return{set:i,update:(o,u)=>i(o(r,e),u),subscribe:s.subscribe}}const U=[{id:"blog_snake",tags:["game","interactive"],title:"Snake",description:"Snake game as a library",url:`${M}/things/snake`,img:ze},{id:"blog_harakiri",tags:["blog"],title:"Harakiri",description:"Efficiently solving sudoku",url:`${M}/blog/sudoku`,img:Ie},{id:"painter_v2",tags:["interactive"],title:"Painting tool",description:"Efficient web-based painting tool with 128bit color",url:`${M}/things/painter`,img:Se},Ne({name:"roman-numerals",meta:De,img:Ce})];function Ne(e){var t,s,n,r,i,o;return{id:"blog/"+e.name,tags:(s=(t=e.meta)==null?void 0:t.tags)!=null?s:["blog"],title:(r=(n=e.meta)==null?void 0:n.title)!=null?r:"title",description:(o=(i=e.meta)==null?void 0:i.description)!=null?o:"description",url:`${M}/blog/${e.name}`,img:e.img}}function re(e,t,s){const n=e.slice();return n[14]=t[s],n}function ie(e,t,s){const n=e.slice();n[17]=t[s],n[20]=s;const r=U[n[20]];return n[18]=r,n}function Pe(e){let t,s,n,r,i;return s=new ue({props:{width:e[17].size,img:e[18].img,onClick:e[3](e[18].id),backgroundColor:"white",borderColor:"white"}}),{c(){t=S("div"),R(s.$$.fragment),n=T(),this.h()},l(o){t=C(o,"DIV",{class:!0,style:!0});var u=D(t);X(s.$$.fragment,u),n=N(u),u.forEach(v),this.h()},h(){E(t,"class","thing svelte-1xf7slc"),E(t,"style",r=`left: ${e[17].x-e[17].size/2}px; top: ${e[17].y-e[17].size/2}px`)},m(o,u){A(o,t,u),B(s,t,null),k(t,n),i=!0},p(o,u){const l={};u&1&&(l.width=o[17].size),s.$set(l),(!i||u&1&&r!==(r=`left: ${o[17].x-o[17].size/2}px; top: ${o[17].y-o[17].size/2}px`))&&E(t,"style",r)},i(o){i||(I(s.$$.fragment,o),i=!0)},o(o){H(s.$$.fragment,o),i=!1},d(o){o&&v(t),W(s)}}}function Ae(e){let t,s,n,r,i,o,u;return n=new ue({props:{width:e[17].size,href:e[18].url,img:e[18].img,backgroundColor:"white",borderColor:"white"}}),{c(){t=S("div"),s=S("div"),R(n.$$.fragment),i=T(),this.h()},l(l){t=C(l,"DIV",{class:!0,style:!0});var c=D(t);s=C(c,"DIV",{class:!0,style:!0});var $=D(s);X(n.$$.fragment,$),$.forEach(v),i=N(c),c.forEach(v),this.h()},h(){E(s,"class","hex-link svelte-1xf7slc"),E(s,"style",r=`width: ${e[17].size}px; height: ${e[17].size}px`),E(t,"class","thing svelte-1xf7slc"),E(t,"style",o=`left: ${e[17].x-e[17].size/2}px; top: ${e[17].y-e[17].size/2}px`)},m(l,c){A(l,t,c),k(t,s),B(n,s,null),k(t,i),u=!0},p(l,c){const $={};c&1&&($.width=l[17].size),n.$set($),(!u||c&1&&r!==(r=`width: ${l[17].size}px; height: ${l[17].size}px`))&&E(s,"style",r),(!u||c&1&&o!==(o=`left: ${l[17].x-l[17].size/2}px; top: ${l[17].y-l[17].size/2}px`))&&E(t,"style",o)},i(l){u||(I(n.$$.fragment,l),u=!0)},o(l){H(n.$$.fragment,l),u=!1},d(l){l&&v(t),W(n)}}}function oe(e){let t,s,n,r;const i=[Ae,Pe],o=[];function u(l,c){return l[1]&&l[1].id===l[18].id?0:1}return t=u(e),s=o[t]=i[t](e),{c(){s.c(),n=se()},l(l){s.l(l),n=se()},m(l,c){o[t].m(l,c),A(l,n,c),r=!0},p(l,c){let $=t;t=u(l),t===$?o[t].p(l,c):(L(),H(o[$],1,1,()=>{o[$]=null}),j(),s=o[t],s?s.p(l,c):(s=o[t]=i[t](l),s.c()),I(s,1),s.m(n.parentNode,n))},i(l){r||(I(s),r=!0)},o(l){H(s),r=!1},d(l){o[t].d(l),l&&v(n)}}}function ae(e){let t,s,n,r,i=e[1].title+"",o,u,l,c=e[1].description+"",$,h,a,p,f,w,z,d,O,y=e[1].tags,_=[];for(let g=0;g<y.length;g+=1)_[g]=ce(re(e,y,g));const de=g=>H(_[g],1,1,()=>{_[g]=null});return{c(){t=S("section"),s=S("div"),n=S("div"),r=S("h2"),o=G(i),u=T(),l=S("p"),$=G(c),h=T(),a=S("div");for(let g=0;g<_.length;g+=1)_[g].c();p=T(),f=S("button"),w=G("\u2A2F"),this.h()},l(g){t=C(g,"SECTION",{class:!0});var b=D(t);s=C(b,"DIV",{class:!0});var m=D(s);n=C(m,"DIV",{class:!0});var x=D(n);r=C(x,"H2",{});var F=D(r);o=Z(F,i),F.forEach(v),x.forEach(v),u=N(m),l=C(m,"P",{});var Q=D(l);$=Z(Q,c),Q.forEach(v),h=N(m),a=C(m,"DIV",{class:!0});var Y=D(a);for(let q=0;q<_.length;q+=1)_[q].l(Y);Y.forEach(v),m.forEach(v),p=N(b),f=C(b,"BUTTON",{});var ee=D(f);w=Z(ee,"\u2A2F"),ee.forEach(v),b.forEach(v),this.h()},h(){E(n,"class","title svelte-1xf7slc"),E(a,"class","tags-container svelte-1xf7slc"),E(s,"class","description svelte-1xf7slc"),E(t,"class","two-col svelte-1xf7slc")},m(g,b){A(g,t,b),k(t,s),k(s,n),k(n,r),k(r,o),k(s,u),k(s,l),k(l,$),k(s,h),k(s,a);for(let m=0;m<_.length;m+=1)_[m].m(a,null);k(t,p),k(t,f),k(f,w),z=!0,d||(O=ke(f,"click",e[2]),d=!0)},p(g,b){if((!z||b&2)&&i!==(i=g[1].title+"")&&ne(o,i),(!z||b&2)&&c!==(c=g[1].description+"")&&ne($,c),b&2){y=g[1].tags;let m;for(m=0;m<y.length;m+=1){const x=re(g,y,m);_[m]?(_[m].p(x,b),I(_[m],1)):(_[m]=ce(x),_[m].c(),I(_[m],1),_[m].m(a,null))}for(L(),m=y.length;m<_.length;m+=1)de(m);j()}},i(g){if(!z){for(let b=0;b<y.length;b+=1)I(_[b]);z=!0}},o(g){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)H(_[b]);z=!1},d(g){g&&v(t),fe(_,g),d=!1,O()}}}function ce(e){let t,s;return t=new we({props:{text:e[14]}}),{c(){R(t.$$.fragment)},l(n){X(t.$$.fragment,n)},m(n,r){B(t,n,r),s=!0},p(n,r){const i={};r&2&&(i.text=n[14]),t.$set(i)},i(n){s||(I(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){W(t,n)}}}function Ve(e){let t,s,n,r,i,o,u;s=new He({});let l=e[0],c=[];for(let a=0;a<l.length;a+=1)c[a]=oe(ie(e,l,a));const $=a=>H(c[a],1,1,()=>{c[a]=null});let h=e[1]!=null&&ae(e);return{c(){t=T(),R(s.$$.fragment),n=T(),r=S("main"),i=S("section");for(let a=0;a<c.length;a+=1)c[a].c();o=T(),h&&h.c(),this.h()},l(a){ve("svelte-a4ztnm",document.head).forEach(v),t=N(a),X(s.$$.fragment,a),n=N(a),r=C(a,"MAIN",{style:!0,class:!0});var f=D(r);i=C(f,"SECTION",{class:!0,style:!0});var w=D(i);for(let z=0;z<c.length;z+=1)c[z].l(w);w.forEach(v),o=N(f),h&&h.l(f),f.forEach(v),this.h()},h(){document.title="Things",E(i,"class","thing-container svelte-1xf7slc"),E(i,"style",`height: ${e[5]}px`),E(r,"style",`width: ${e[4]}px`),E(r,"class","svelte-1xf7slc")},m(a,p){A(a,t,p),B(s,a,p),A(a,n,p),A(a,r,p),k(r,i);for(let f=0;f<c.length;f+=1)c[f].m(i,null);k(r,o),h&&h.m(r,null),u=!0},p(a,[p]){if(p&11){l=a[0];let f;for(f=0;f<l.length;f+=1){const w=ie(a,l,f);c[f]?(c[f].p(w,p),I(c[f],1)):(c[f]=oe(w),c[f].c(),I(c[f],1),c[f].m(i,null))}for(L(),f=l.length;f<c.length;f+=1)$(f);j()}a[1]!=null?h?(h.p(a,p),p&2&&I(h,1)):(h=ae(a),h.c(),I(h,1),h.m(r,null)):h&&(L(),H(h,1,1,()=>{h=null}),j())},i(a){if(!u){I(s.$$.fragment,a);for(let p=0;p<l.length;p+=1)I(c[p]);I(h),u=!0}},o(a){H(s.$$.fragment,a),c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)H(c[p]);H(h),u=!1},d(a){a&&v(t),W(s,a),a&&v(n),a&&v(r),fe(c,a),h&&h.d()}}}const V=150,P=200;function xe(e,t,s){let n;const r=(d,O)=>({x:d.x,y:d.y,size:O});let i;const o=d=>{d.preventDefault(),s(6,i=void 0)},u=d=>O=>{O.preventDefault(),s(6,i=d)},l=[2,2],c=Math.max(...l),$=P*c+(l.filter(d=>d===c).length>1?P/2:0),h=P*l.length,a=J({nodeSize:V,rows:l,nodePadding:P-V}),p={duration:150,easing:Oe},f=a.map(d=>Te(r(d,V),p)),w=a.map(d=>r(d,V)),z=[];return be(()=>{for(let d=0;d<f.length;d++){const y=f[d].subscribe(_=>{s(0,w[d]=_,w)});z.push(y)}}),ye(()=>{for(const d of z)d()}),e.$$.update=()=>{if(e.$$.dirty&64&&s(1,n=U.find(d=>d.id===i)),e.$$.dirty&64){if(i==null)for(let d=0;d<a.length;d++)f[d].set(r(a[d],V));else{const d=J({nodeSize:P,rows:l,nodePadding:0}),O=U.findIndex(y=>y.id===i);for(let y=0;y<d.length;y++)f[y].set(r(d[y],y===O?P:V))}i==null||J({nodeSize:P,rows:l,nodePadding:0})}},[w,n,o,u,$,h,i]}class Ge extends _e{constructor(t){super(),ge(this,t,xe,Ve,$e,{})}}export{Ge as default};
